



<!DOCTYPE html>
<html lang="zh-CN">

<head>
<title></title>
<meta name="viewport"content="width=device-width, user-scalable=no, initial-scale=1.0, shrink-to-fit=no, viewport-fit=cover">

<meta name="description" content="部署智能合约到 polygon 上（Web3项目三实战之三） 在上一篇 为 Web3 项目撰写智能合约（Web3项目三实战之二） 中，我们已经为Web3项目编写好了智能合约，而本文将要部署智能合约到 polygon上。
您或许会问，polygon到底是什么？其实它是测试链（也可以说是测试网），由于主链（或主网）部署智能合约是需要gas，而这gas是要花费您的真金白银的，毕竟智能合约是人编写出来的啊！不出bug那是极不可能的事，总得找个网络测试下吧，虽然在编写完智能合约，我们也会现在本地测试一番，但本地网络总是有区别于远程网络的！
要不，怎么会有在我电脑测试的都没问题，怎么在其他人的电脑就出现各种意料不到的疑难杂症呢？的奇葩事情？毕竟，我们每个人都是很自我的！对别人总是有这样或那样的偏见。
配置部署脚本 我们还是一如既往的打开IDE（我这里选用的是VS Code，至于您嘛！可根据您平时常用的IDE，不必非要与我使用的一样，要不强人所难这一成语就不会诞生了，哈哈哈……）
首先，我们打开位于web3目录下的scripts子目录，修改其下的deploy.js文件。
const hre = require(&#34;hardhat&#34;); async function main() { const tokenStaking = await hre.ethers.deployContract(&#34;TokenStaking&#34;); await tokenStaking.waitForDeployment(); const theblockchaincoders = await hre.ethers.deployContract(&#34;Theblockchaincoders&#34;); await theblockchaincoders.waitForDeployment(); console.log(` STACKING: ${tokenStaking.target}`); console.log(` TOKEN: ${theblockchaincoders.target}`); } main().catch((error) =&gt; { console.error(error); process.exitCode = 1; }); 随后，我们回到web3目录下，对hardhat.config.js进行修改。
require(&#34;@nomicfoundation/hardhat-toolbox&#34;); /** @type import(&#39;hardhat/config&#39;).HardhatUserConfig */ const PRIVATE_KEY = &#34;YOUR ADDRESS&#34;; const RPC_URL = &#34;https://rpc.ankr.com/polygon_mumbai&#34;; module.exports = { defaultNetwork: &#34;polygon_mumbai&#34;, networks: { hardhat: { chainId: 80001, }, polygon_mumbai: { url: &#34;https://rpc.">

<meta itemprop="name" content="">
<meta itemprop="description" content="部署智能合约到 polygon 上（Web3项目三实战之三） 在上一篇 为 Web3 项目撰写智能合约（Web3项目三实战之二） 中，我们已经为Web3项目编写好了智能合约，而本文将要部署智能合约到 polygon上。
您或许会问，polygon到底是什么？其实它是测试链（也可以说是测试网），由于主链（或主网）部署智能合约是需要gas，而这gas是要花费您的真金白银的，毕竟智能合约是人编写出来的啊！不出bug那是极不可能的事，总得找个网络测试下吧，虽然在编写完智能合约，我们也会现在本地测试一番，但本地网络总是有区别于远程网络的！
要不，怎么会有在我电脑测试的都没问题，怎么在其他人的电脑就出现各种意料不到的疑难杂症呢？的奇葩事情？毕竟，我们每个人都是很自我的！对别人总是有这样或那样的偏见。
配置部署脚本 我们还是一如既往的打开IDE（我这里选用的是VS Code，至于您嘛！可根据您平时常用的IDE，不必非要与我使用的一样，要不强人所难这一成语就不会诞生了，哈哈哈……）
首先，我们打开位于web3目录下的scripts子目录，修改其下的deploy.js文件。
const hre = require(&#34;hardhat&#34;); async function main() { const tokenStaking = await hre.ethers.deployContract(&#34;TokenStaking&#34;); await tokenStaking.waitForDeployment(); const theblockchaincoders = await hre.ethers.deployContract(&#34;Theblockchaincoders&#34;); await theblockchaincoders.waitForDeployment(); console.log(` STACKING: ${tokenStaking.target}`); console.log(` TOKEN: ${theblockchaincoders.target}`); } main().catch((error) =&gt; { console.error(error); process.exitCode = 1; }); 随后，我们回到web3目录下，对hardhat.config.js进行修改。
require(&#34;@nomicfoundation/hardhat-toolbox&#34;); /** @type import(&#39;hardhat/config&#39;).HardhatUserConfig */ const PRIVATE_KEY = &#34;YOUR ADDRESS&#34;; const RPC_URL = &#34;https://rpc.ankr.com/polygon_mumbai&#34;; module.exports = { defaultNetwork: &#34;polygon_mumbai&#34;, networks: { hardhat: { chainId: 80001, }, polygon_mumbai: { url: &#34;https://rpc.">
<meta itemprop="image" content="/img/author.jpg">


<meta name="twitter:description" content="">


<link rel="alternate" href="/feed.xml" title="秋码分享" type="application/rss+xml"/>

<link rel="shortcut icon" href="/imgs/icons/favicon.ico"/>
<link rel="apple-touch-icon" href="/imgs/icons/apple-touch-icon.png" />
<link rel="apple-touch-icon-precomposed" href="/imgs/icons/apple-touch-icon.png" />




<style>

@font-face {
    font-family: "Kiwi Font";
    font-weight: 400;
    font-style: normal;
    font-display: swap;
      src: url("/fonts/fontawesome-webfont.woff2") format("woff2");
  }
 
    html {
        font-family: 'Kiwi Font', 'PingFang SC', 'Noto Serif SC', 'HarmonyOS_Sans_SC_Medium', 'Fira Mono', 'Microsoft YaHei', Arial, sans-serif
    }

    html .Qc_header_above .Qc_container {
        max-width: 1720px
    }

    html .Qc_header_below .Qc_container {
        max-width: 1720px
    }

    html .Qc_header_searchout .Qc_container {
        max-width: 1720px
    }

    html .Qc_main {
        max-width: 980px
    }

    html .Qc_aside {
        width: 260px
    }

    body::before {
        background: #f0f0f0;
        background: ;
        background-position: center 0;
        background-repeat: no-repeat;
        background-size: cover;
    }
</style>


<link rel="stylesheet" href="/css/global.min.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/theme.min.css" />

<link rel="stylesheet" href="/css/font-awesome.min.css" />

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5798408669698308"
     crossorigin="anonymous"></script>





<link rel="stylesheet" href="/css/third-party/waline.css" />








































<script type="module">
    import { init } from '\/js/third-party/comments/waline.mjs';
  
    init({
      el: '.waline-container',
      placeholder: "请不要吝啬您的评论 ヾ(≧▽≦*)o",
      sofa: "瞧，这里没人，还不抢占第一的位置 (≧∀≦)ゞ",
      pageview: true, 
      comment: true, 
      emoji: [
        '//unpkg.com/@waline/emojis@1.1.0/weibo',
        '//unpkg.com/@waline/emojis@1.1.0/bilibili',
      ],
      login: 'disable',
      imgUploader: false,
      wordLimit: 200,
      requiredMeta: ['nick', 'mail'],
      reaction: true,
      reactionText: [ '点赞', '踩一下', '得意', '不屑', '尴尬', '睡觉'],
      reactionTitle: "您认为这篇文章怎么样？",
      dark: 'auto', 
      serverURL: "comment.qiucode.cn",
    });
  </script>
  









 
 


  
  









    
    







                
 
    

























</head>

<body>
	 <header class="kiwi_header"><style>
   


     


    .kiwi_container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}

    .kiwi_header__above-logo svg,.kiwi_header__above-nav .kiwi_dropdown__menu a::after{
    display:none}
    
    #Joe .kiwi_leaving-list .emoji-item,#Joe .newreply .emoji-item{display:inline-block;margin:0 2px;padding:0;width:24px;height:24px;overflow:hidden}@media (max-width:860px){#Joe .kiwi_leaving-list .emoji-item,#Joe .newreply .emoji-item{-webkit-transform:scale(.8);transform:scale(.8)}}#Joe .kiwi_leaving-list .emoji-item img,#Joe .newreply .emoji-item img{display:block;width:24px;height:24px;border:0}#Joe .kiwi_leaving-list .emoji-animate,#Joe .newreply .emoji-animate{position:relative}#Joe .newreply .emoji-animate .img{cursor:default}#Joe .kiwi_leaving-list .emoji-animate .img{cursor:default;width:24px;height:24px}#Joe .kiwi_leaving-list .emoji-animate .img:hover,#Joe .kiwi_leaving-list .emoji-img:hover,#Joe .newreply .emoji-animate .img:hover,#Joe .newreply .emoji-img:hover{-webkit-transform:translateY(0);transform:translateY(0)}#Joe .newreply .emoji-img{position:relative;cursor:default}#Joe .kiwi_leaving-list .emoji-img{position:relative;cursor:default;width:20px;height:20px}#Joe .newreply .emoji-animate{top:5px}#Joe .newreply .emoji-animate .img{width:24px;height:24px}#Joe .newreply .emoji-img{top:-3px;width:20px;height:20px}.kiwi_container{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;width:100%;margin:0 auto 30px;padding:0 15px}.kiwi_container.revert{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.kiwi_container.revert .kiwi_aside{margin-left:0;margin-right:15px}.kiwi_container img{max-width:100%}.kiwi_container pre code{overflow-x:auto}.kiwi_container code:not([class]){display:inline-block;font-size:13px;color:var(--code);margin:2px 5px;padding:0 8px;white-space:normal;text-indent:0;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;vertical-align:baseline;word-break:break-word;background:var(--code-background);border-radius:var(--radius-inner)}.kiwi_container .code-toolbar{position:relative;margin:20px 0;overflow:hidden;-webkit-box-shadow:1px 1px 5px 0 var(--shadow-code);box-shadow:1px 1px 5px 0 var(--shadow-code);border-radius:8px}.kiwi_container .code-toolbar .toolbar{pointer-events:none;display:none;opacity:1;left:0;right:0;top:0;z-index:unset;height:30px;line-height:30px;text-align:center}.kiwi_container .code-toolbar .toolbar .toolbar-item{opacity:1;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.kiwi_container .code-toolbar .toolbar .toolbar-item span{font-weight:700;font-size:14px;color:#999;background:0 0;border:0;-webkit-box-shadow:none;box-shadow:none}.kiwi_container .code-toolbar .toolbar .toolbar-item span:hover{color:#999}.kiwi_container .code-toolbar .toolbar .toolbar-item:last-child{display:none}.kiwi_container .code-toolbar .toolbar .autofold-tip{padding-left:5px;font-size:12px}.kiwi_container .code-toolbar pre[class*=language-]{position:relative;margin:0;padding:20px 0 0;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;font-size:16px;overflow:hidden;white-space:pre;text-shadow:none;border-radius:8px}.kiwi_container .code-toolbar pre[class*=language-] code[class*=language-]{display:block;margin-bottom:0;overflow-x:auto;-webkit-overflow-scrolling:touch;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 12px 12px 18px;border-radius:0 0 8px 8px;text-shadow:none}.kiwi_container .code-toolbar pre[class*=language-] code[class*=language-] .token.operator,.kiwi_container .code-toolbar pre[class*=language-] code[class*=language-] .token.string{background:0 0}.kiwi_container .code-toolbar pre[class*=language-] .line-numbers-rows{left:0;top:0;bottom:0;padding-top:12px;border:0}.kiwi_container .code-toolbar pre[class*=language-] .code-expander,.kiwi_container .code-toolbar pre[class*=language-] .copy-button{cursor:pointer;position:absolute;right:10px;top:5px;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;color:#999;-webkit-transition:all .25s;transition:all .25s}.kiwi_container .code-toolbar pre[class*=language-] .code-expander:hover,.kiwi_container .code-toolbar pre[class*=language-] .copy-button:hover{-webkit-filter:brightness(1.2);filter:brightness(1.2)}.kiwi_container .code-toolbar pre[class*=language-] .copy-button{top:3px;z-index:5;font-weight:700;-webkit-transition:opacity .25s;transition:opacity .25s}.kiwi_container .code-toolbar pre[class*=language-].c_title+.toolbar{display:block}.kiwi_container .code-toolbar pre[class*=language-].c_title code{padding:12px 12px 12px 18px}.kiwi_container .code-toolbar pre[class*=language-].c_hr{padding:30px 0 0}.kiwi_container .code-toolbar pre[class*=language-].c_hr:after{position:absolute;top:30px;z-index:1;content:"";width:100%;height:1px;background:#d8d8d8;mix-blend-mode:overlay}.kiwi_container .code-toolbar pre[class*=language-].c_hr code{padding:12px 12px 14px 18px}.kiwi_container .code-toolbar pre[class*=language-].c_macdot:before{content:"";position:absolute;top:9px;left:12px;z-index:1;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b}.kiwi_container .code-toolbar pre[class*=language-].c_newline code{white-space:pre-wrap;word-break:break-all}.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools .code-expander,.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools .copy-button{pointer-events:none;opacity:0}.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools:hover .code-expander,.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools:hover .copy-button{pointer-events:auto;opacity:1}.kiwi_container .code-toolbar pre[class*=language-].c_copy,.kiwi_container .code-toolbar pre[class*=language-].c_copy code{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.kiwi_container .code-toolbar pre[class*=language-].c_copy .code-expander{right:40px}.kiwi_container .code-toolbar pre[class*=language-].line-numbers code{padding:12px 12px 16px 54px}.kiwi_container .code-toolbar pre[class*=language-].close{height:30px}.kiwi_container .code-toolbar pre[class*=language-].close .code-expander{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.kiwi_container .code-toolbar pre[class*=language-].close:after{visibility:hidden}.kiwi_main{min-width:0;-webkit-box-flex:1;-ms-flex:1;flex:1;padding-bottom:15px}.kiwi_dropdown{position:relative}.kiwi_dropdown__link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.kiwi_dropdown__link-icon{-webkit-transition:-webkit-transform .35s;transition:transform .35s;transition:transform .35s,-webkit-transform .35s;margin-left:-12px}.kiwi_dropdown__menu{position:absolute;left:50%;visibility:hidden;z-index:5;border-top:3px solid var(--theme);-webkit-transform-origin:top;transform-origin:top;background:var(--sib-background);-webkit-box-shadow:0 0 10px rgba(0,0,0,.15);box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:0 0 var(--radius-inner) var(--radius-inner);padding:10px 0;opacity:0;-webkit-transform:translateX(-50%) perspective(600px) rotateX(-45deg);transform:translateX(-50%) perspective(600px) rotateX(-45deg);-webkit-transition:opacity .35s,visibility .35s,-webkit-transform .35s;transition:opacity .35s,visibility .35s,transform .35s;transition:opacity .35s,visibility .35s,transform .35s,-webkit-transform .35s}.kiwi_dropdown__menu::before{content:"";position:absolute;top:-10px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid var(--theme)}.kiwi_dropdown.active .kiwi_dropdown__link-icon{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.kiwi_dropdown.active .kiwi_dropdown__menu{visibility:visible;opacity:1;-webkit-transform:translateX(-50%) perspective(600px) rotateX(0);transform:translateX(-50%) perspective(600px) rotateX(0)}.kiwi_header{position:relative;z-index:100;height:60px}.kiwi_header .kiwi_container{margin:0 auto}.kiwi_header .full{max-width:100%!important}
    
    .kiwi_header__above{position:fixed;top:0;z-index:6;width:100%;background:var(--background);-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.2);box-shadow:0 2px 10px 0 rgba(0,0,0,.2);-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);will-change:opacity,transform;-webkit-transition:opacity,-webkit-transform .35s;transition:opacity,transform .35s;transition:opacity,transform .35s,-webkit-transform .35s}
    
    .kiwi_header__above .kiwi_container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-height:44px;max-width:auto!important}
    
    .kiwi_header__above-logo{position:relative;height:60px;margin-right:10px;padding-right:18px}
    
    .kiwi_header__above-logo img{min-width:40px;max-width:150px;height:40px;-o-object-fit:cover;object-fit:cover}
    
    .kiwi_header__above-logo::after{content:"";position:absolute;top:50%;right:0;width:1px;height:20px;background:var(--classC);-webkit-transform:translateY(-50%);transform:translateY(-50%)}
    
    .kiwi_header__above-logo,.kiwi_header__above-nav,.kiwi_header__above-nav .item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}
    
    .kiwi_header__above-nav .item{cursor:pointer;position:relative;height:60px;line-height:60px;font-size:15px;padding:0 8px;margin-right:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;color:var(--main);-webkit-transition:color .35s;transition:color .35s}
    
    .kiwi_header__above-nav .item>i{display:inline-block;margin-right:4px;font-size:18px;-webkit-transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}
    
    .kiwi_header__above-nav .item:last-child{margin-right:0}
    
    .kiwi_header__above-nav .item::after{opacity:0;position:absolute;bottom:0;left:6px;right:6px;content:"";height:3px;-webkit-transform:scaleX(.25);transform:scaleX(.25);background:var(--theme);border-radius:6px 6px 0 0;-webkit-transition:opacity .5s,-webkit-transform .5s;transition:opacity .5s,transform .5s;transition:opacity .5s,transform .5s,-webkit-transform .5s}
    
    
    .kiwi_header__above-nav .item.current,.kiwi_header__above-nav .item:hover{color:var(--theme)}
    
    .kiwi_header__above-nav .item.current::after,.kiwi_header__above-nav .item.current:hover::after{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}
    
    .kiwi_header__above-nav .item:hover::after{opacity:.3;-webkit-transform:scaleX(.7);transform:scaleX(.7)}
    
    .kiwi_header__above-nav .item:hover+.joe-icon-arrow-down,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link a,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link i{color:var(--theme)!important}
    
    .kiwi_header__above-nav.active-shadow .item.current{text-shadow:0 4px 20px var(--theme)}
    
    .kiwi_header__above-nav.active-animate .item:hover .m-icon{-webkit-animation:dung .3s .12s ease;animation:dung .3s .12s ease}
    
    .kiwi_header__above-nav .kiwi_dropdown{margin-right:15px}
    
    .kiwi_header__above-nav .kiwi_dropdown__link a{height:60px;line-height:60px;font-size:15px;padding-left:8px;padding-right:3px;-webkit-transition:color .35s;transition:color .35s;white-space:nowrap;color:var(--main)}
    
    .kiwi_header__above-nav .kiwi_dropdown__menu{min-width:90px;max-width:200px;text-align:center}
    
    .kiwi_header__above-nav .kiwi_dropdown__menu a{display:block;height:34px;margin-right:0;line-height:34px;color:var(--classF);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 15px;-webkit-transition:color .35s,background .35s;transition:color .35s,background .35s}
    
    .kiwi_header__above-nav .kiwi_dropdown__menu a.current,.kiwi_header__above-nav .kiwi_dropdown__menu a:hover{color:var(--theme);background:var(--sib)}
    
    .kiwi_header__above-nav .kiwi_dropdown .item:hover:after,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link a::after,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link i::after{display:none}.kiwi_header__above-nav .kiwi_nav_sub-li{position:relative;height:34px}.kiwi_header__above-nav .kiwi_nav_sub-li .m-icon{vertical-align:bottom}
    
    .kiwi_header__above-nav .kiwi_nav_sub-li:hover .kiwi_nav_sub{visibility:visible;opacity:1;-webkit-transform:translateX(0) perspective(600px) rotateY(0);transform:translateX(0) perspective(600px) rotateY(0)}
    
    .kiwi_header__above-nav .kiwi_nav_sub{visibility:hidden;z-index:10;-webkit-transform-origin:top;transform-origin:top;opacity:0;position:relative;left:100%;top:-34px;padding-left:7px;-webkit-box-shadow:7px 3px 8px 0 rgba(0,0,0,.15);box-shadow:7px 3px 8px 0 rgba(0,0,0,.15);border-radius:0 var(--radius-inner) var(--radius-inner) 0;-webkit-transform:translateX(-20%) perspective(600px) rotateY(-45deg);transform:translateX(-20%) perspective(600px) rotateY(-45deg);-webkit-transition:opacity .35s,visibility .35s,-webkit-transform .35s;transition:opacity .35s,visibility .35s,transform .35s;transition:opacity .35s,visibility .35s,transform .35s,-webkit-transform .35s}
    .kiwi_header__above-nav .kiwi_nav_sub::before{position:absolute;top:10px;left:0;content:"";-webkit-transform:translateX(-50%);transform:translateX(-50%);width:0;height:0;border:7px solid transparent;border-right-color:var(--theme)}
    .kiwi_header__above-nav .kiwi_nav_sub::after{position:absolute;top:0;left:7px;content:"";width:2px;height:100%;background:var(--theme)}.kiwi_header__above-nav .kiwi_nav_sub li{background:var(--sib-background)}.kiwi_header__above-search,.kiwi_header__above-search-mobile{position:relative;margin-left:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.kiwi_header__above-search .input,.kiwi_header__above-search-mobile .input{background:var(--classC);width:170px;height:34px;border:1px solid transparent;padding:0 14px 0 16px;color:var(--routine);-webkit-transition:width .35s,border-color .35s,padding-right .35s;transition:width .35s,border-color .35s,padding-right .35s;border-radius:17px 0 0 17px}.kiwi_header__above-search .input:focus,.kiwi_header__above-search-mobile .input:focus{background:var(--background);border-color:var(--theme);padding-right:28px;width:170px}.kiwi_header__above-search .input:focus~.icon,.kiwi_header__above-search-mobile .input:focus~.icon{-webkit-transform:translate3d(0,-50%,0) rotateY(180deg);transform:translate3d(0,-50%,0) rotateY(180deg)}.kiwi_header__above-search .submit,.kiwi_header__above-search-mobile .submit{position:relative;z-index:1;width:50px;height:34px;color:#fff;border:0;background:var(--theme);border-radius:0 17px 17px 0}.kiwi_header__above-search .submit i,.kiwi_header__above-search-mobile .submit i{-webkit-transform-origin:right bottom;transform-origin:right bottom;font-size:20px}.kiwi_header__above-search .submit:hover i,.kiwi_header__above-search-mobile .submit:hover i{-webkit-animation:swag .3s ease infinite alternate;animation:swag .3s ease infinite alternate}.kiwi_header__above-search .icon,.kiwi_header__above-search-mobile .icon{position:absolute;top:50%;right:44px;width:28px;height:38px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAmCAYAAADX7PtfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAHKElEQVRYw93Xe3DNdxrH8ecXiSK7i1qWFWW3rekiE2x3VEemtkkVVbWy4jY6atma2YpS6rJoozvbpRF1qW1EEYIk5xZE5EKE3CQi0SB30VwEIeeWnDi3nPf+kUNTE1R3mNn945n5nZkz8zrP53y/39/3EUCeZsn/HCgi80Rky1MDn/H2vjB6SpBVRMb9V6CI+InIBhE58bOez5b9xm9E0wu//0NTr/4+9SKyX0TGicjiP320kpBd+xCRv/0kUFEUf49OnfJGBwWzWn3UcfCGSa8xO1zxFoi3gLbJyZb8S/QeOIhRb0/hiA1GvjkREfF9bFBEQv0C3ySyrIaEO5DjaCXFYkdttKEyWFEbrKiNNjRmBztLrrIqVsfAYb507tJVryjKi48FisiK8Qs/IL4FVEYbOTY7l3FSjJNCp4PDpnZoOzi+BSKKq+j3wostiqK8/KPBv27+6pja9H03uXYHl3FwyeWgGCcFTscPwXalMdnZU1VPn4GDTCLS90eB2ibHHpXRhtpgRWWwkmqxU4yTEpwcvaUno7kZ7f1dtitds4tVcYcRkZMiskhRlCEPBdUG2/a7oNpoQ2Oyc8zUwrsp+QREp7CxpA6N0YbaaENtvBtrW2lMdsIy8xn00u/4aPly9h04QEBgICKy+oGgymiNUBltaN2xflxwlUmqdArKvyX0RBZf1ejbge5y/zi10cbg4SO4Ul3N8dRUqmprcQETJ01CUZQxHXdotH+jMtpYdLact9RniMzOxX6rDAzlrEzOIKLO+EPMXRqTnbCs88yePQuA18aOpWuPXuyIiKCouBgROfQA0Bq1tqiGsPRsMFbiaigBfQXoy1mZnMnOa6YOMBsHb7ewKbuAWTNnAhAQGEjPPn3JyMmh2W5HUZScDkGd0b5/RuoFqmtLiNj8GSLCxcwEMFTw95RM/l1ruBepxtTW2YKMYiYdPouuycHg4SOpqa8nTqPhclkZDuBcYSEiEtMxaLZHByXmU1qUiYeHByLCsZhIMFayPfMs/yy9TrzZQZzByqeX6pigzSLqbB5z4k+jNTvYcCqbvj4++i/Cwi7kFZxvidq/3+UzYAAi8l6HYLzZfiAoIZfoiHBEBBGhNDcZ9BXkln5LoCaLoMR8punOsCM7j8b6EjBWsDjxDHtuNKE1O9h95RrT14QyJngm01at48u8IkTktPtg6da9e/dffb8PTXbVVG0mqRva4pw8PgBMV6CxHBrLuVhZRMO1Ypw3LrPt8zXYrl8CfTmrUzL5ut2C0jY50TW3om1yEm+B/oNf0rvBYfPff//59pEefUd9BtKPU5oQS+vtMmgsx3W7DJf7GfNV5kyfgoiQpNoNxko+Tsog8u6Cuu8wiLfAb/2Gt7hBRUR6tAdTpmozQV/etjrbYXfBxspzKEpb3MU5x8FYwUxdOirDfXvTvT+1TU569vt17YP+w+RJ0ae4WdUWlcsdJfqKtmd9BWcSDiIijHvdH8xVVFdfYmpiPjqznQP1BmIamu6dRBqTnfCcQkQkukPQPyZdNToqzfZWaLKzuvwiGCpoLcrAnqS917G1/iKfL5iLMUkH3xWiK8hnWX4Vhy0uJi9ayqpYHRqzo+1stbgIePc9u4i83iE4O7128cvRp1mRZ2Hy+qRWQ25aW2d1RW0x3+04/zScTITcNJYmZxFxzcj+2lsM8vUjrrHlXrRR1Q107tLlYodnqaIo2iHDhlp8g+bzaSkcqbO0xiXn80boCdbtOkXuuUJuVRdjqbuI42YxNXmpLFkwh6FvTOCoDdeYP09nVazOpWtuRW20oWtu5Z0PlyMiwR2CIrJbG7WNyPD1DBrxCoEh61snhEYwcc1WXvnLelffgOX6gcE7VN1+3sM2cuwfEU9PRCRtftgWQnbupVf/AQSvXMta3TE0ZgeHbprx7tGz6oGvJxHx8vDyOr35sxWYrp4n8VAEsZGbiNsVTvy+7TzXr0+j+3sHRkx4G1GUnc90885bGhWDh4dHlqIo10Xk9oqDanQWF/M3bUVEPnjo+/CTEkJeXbgOX9+h/GPlIrR7t3I8difHYiLp3evZanf03iIyQkR6iKcXnl6dTymK0lVRFD8RmTpj7XqO2mDIq/6ISM+HgicbnPM+r4TVhS1M26IhYNlGxixcg4hiFpHnOrjd/fL+z8P8XyPmtoVOXl6Zj7xinLrpnLux3EXaDQff1ED4dxD8ZRwisvYxbuHquf8KR0Q2PRJcdcm5JL3BwR2blRablVZg1KhRLkVRej8GOFg6dUJEFj0S3F3NYpPVRrPNSovDweGEBERkx0+YNWYoivL8I8E7Tue8O04nFrsdBzDG3x8R8Xli01NISMiSrdu2kZGTzd7oaERk7xMd12ZFJC0b/8nX9Brsh4ikiUj3Jwpes/Ph3qzLeHb7RbGIeD7xgfRIQsIyH5/+RkVR+j+VCXjkyJHdFEXx/r+b8f8DZyW8Jd6/P38AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDItMjBUMTE6NTI6MjQrMDA6MDA4bfPmAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAyLTIwVDExOjUyOjI0KzAwOjAwSTBLWgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=);background-size:100% 100%;-webkit-transition:-webkit-transform .35s;transition:transform .35s;transition:transform .35s,-webkit-transform .35s;-webkit-transform:translate3d(100%,-50%,0) rotateY(180deg);transform:translate3d(100%,-50%,0) rotateY(180deg)}.kiwi_header__above-search .result,.kiwi_header__above-search-mobile .result{position:absolute;z-index:2;top:60px;left:0;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;visibility:hidden;opacity:0;background:var(--sib-background);-webkit-box-shadow:0 0 10px rgba(0,0,0,.15);box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:var(--radius-inner);-webkit-transition:visibility .35s,opacity .35s,-webkit-transform .35s;transition:visibility .35s,opacity .35s,transform .35s;transition:visibility .35s,opacity .35s,transform .35s,-webkit-transform .35s;-webkit-transform:translate3d(0,15px,0);transform:translate3d(0,15px,0)}.kiwi_header__above-search .result.active,.kiwi_header__above-search-mobile .result.active{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1;visibility:visible}.kiwi_header__above-search .result .item,.kiwi_header__above-search-mobile .result .item{height:40px;line-height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;padding:0 10px;border-bottom:1px solid var(--classD);-webkit-transition:background .35s;transition:background .35s}.kiwi_header__above-search .result .item:last-child,.kiwi_header__above-search-mobile .result .item:last-child{border-bottom:none}.kiwi_header__above-search .result .item:nth-child(1) .sort,.kiwi_header__above-search-mobile .result .item:nth-child(1) .sort{background:#fe2d46}.kiwi_header__above-search .result .item:nth-child(2) .sort,.kiwi_header__above-search-mobile .result .item:nth-child(2) .sort{background:#f60}.kiwi_header__above-search .result .item:nth-child(3) .sort,.kiwi_header__above-search-mobile .result .item:nth-child(3) .sort{background:#faa90e}.kiwi_header__above-search .result .item:hover,.kiwi_header__above-search-mobile .result .item:hover{background:var(--classC)}.kiwi_header__above-search .result .item .sort,.kiwi_header__above-search-mobile .result .item .sort{color:#fff;background:#7f7f8c;width:18px;height:18px;line-height:18px;border-radius:2px;text-align:center;margin-right:8px;font-weight:500}.kiwi_header__above-search .result .item .text,.kiwi_header__above-search-mobile .result .item .text{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--routine);font-size:12px}.kiwi_header__above-search .result .item .views,.kiwi_header__above-search-mobile .result .item .views{color:var(--seat);font-size:12px;margin-left:5px}.kiwi_header__above-search-mobile input{-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}.kiwi_header__above-searchicon{display:none;cursor:pointer;font-size:23px!important;color:var(--routine)}.kiwi_header__above-slideicon{display:none;cursor:pointer;width:20px;height:20px;color:var(--routine)}.kiwi_header__above.active{-webkit-transform:translate3d(0,-60px,0);transform:translate3d(0,-60px,0)}.kiwi_header__above.glass{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:var(--glass-background)}
    
    .kiwi_header__above.solid{-webkit-backdrop-filter:unset;backdrop-filter:unset;background:var(--background);-webkit-box-shadow:unset;box-shadow:unset}.kiwi_header__below{position:relative;border-top:1px solid var(--classC);height:45px}.kiwi_header__below-title{max-width:450px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:none;line-height:45px;font-size:17px;font-weight:700;color:var(--main);-webkit-animation:showHeaderTitle .35s;animation:showHeaderTitle .35s}

    .kiwi_header{position:relative;z-index:100;height:60px}.kiwi_header .kiwi_container{margin:0 auto}.kiwi_header .full{max-width:100%!important}

    .kiwi_header__searchout {
      position: absolute;
      top: 60px;
      left: 20%;
      right: 0;
      z-index: 85;
      background: var(--background);
      border-top: 1px solid var(--classC);
      -webkit-transform: translate3d(0,-100%,0);
      transform: translate3d(0,-100%,0);
      -webkit-transition: visibility .35s,-webkit-transform .35s;
      transition: transform .35s,visibility .35s;
      transition: transform .35s,visibility .35s,-webkit-transform .35s;
      visibility: hidden;
  }

    @media (min-width:576px){.kiwi_container{max-width:540px}}
    @media (min-width:768px){.kiwi_container{max-width:720px}}
    @media (min-width:992px){.kiwi_container{max-width:960px}}
    @media (min-width:1200px){.kiwi_container{max-width:1140px}}


    @media (max-width:1100px){
    html .kiwi_header__above-search .input{width:70px}
    html .kiwi_header__above-search .input:focus{width:170px}}

    @media (max-width:1000px){html .kiwi_header__above-nav .item .m-icon{display:none}}

    @media (max-width:768px){
   
      html .kiwi_header{
          top:0;height:55px;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards
      }
      
      html .kiwi_header__above .kiwi_container{
          height:55px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between
      }
      html .kiwi_header__above-nav{display:none}
      html .kiwi_header__above-logo{height:55px;margin-right:0}
      html .kiwi_header__above-logo img{max-height:45px}

      html .kiwi_header__above-search{display:none}
      html .kiwi_header__above-searchicon{display:block;margin-left:0}
      html .kiwi_header__above-slideicon{display:block}
      
      html .kiwi_header__below{display:none}
      html .kiwi_header__searchout{top:45px}
    }

    @media (max-width:500px){
      html .kiwi_header{height:50px}
      html .kiwi_header__above .kiwi_container{margin:0 auto;height:50px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}
      html .kiwi_header__above-nav{display:none}
      html .kiwi_header__above-logo{height:50px}
      html .kiwi_header__above-logo img{max-height:45px}
      html .kiwi_header__above-searchicon{margin-left:0}
      html .kiwi_header__above-slideicon{display:block}
      html .kiwi_header__below{display:none}
      html .kiwi_header__searchout{top:40px}
      html .kiwi_bread{margin:0 auto;padding:15px 15px 0 5px}
    }

   

    .kiwi_header__slideout{visibility:hidden;position:fixed;top:0;bottom:0;left:0;z-index:10;width:78%;max-width:480px;background:var(--classD);-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);-webkit-transition:visibility .35s,-webkit-transform .35s;transition:transform .35s,visibility .35s;transition:transform .35s,visibility .35s,-webkit-transform .35s}
    
    .kiwi_header__searchout-inner .cloud,.kiwi_header__slideout-wrap{overflow-y:auto;-webkit-overflow-scrolling:touch;-ms-scroll-chaining:none;overscroll-behavior:contain}
    
    .kiwi_header__slideout-wrap{position:relative;padding:135px 15px 15px;height:100%}
    
    .kiwi_header__slideout-wrap::-webkit-scrollbar,.kiwi_header__toc-wrap::-webkit-scrollbar{display:none}
    
    .kiwi_header__slideout-wrap .social-account{padding:0;margin-bottom:10px;border:unset}
    
    .kiwi_header__slideout.active{visibility:visible;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}
    
    .kiwi_header__slideout-image{position:absolute;top:0;left:0;width:100%;height:150px;-o-object-fit:cover;object-fit:cover;z-index:-1}
    
    .kiwi_header__slideout-author,.kiwi_header__slideout-count,.kiwi_header__slideout-menu{background:var(--background);border-radius:var(--radius-wrap);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.kiwi_header__slideout-author{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px;padding:15px}.kiwi_header__slideout-author .avatar{width:50px;height:50px;margin-right:10px;border-radius:var(--radius-inner)}.kiwi_header__slideout-author .info{overflow:hidden;line-height:25px}.kiwi_header__slideout-author .info .level{height:23px;margin-left:2px}.kiwi_header__slideout-author .info .link,.kiwi_header__slideout-author .info .motto,.kiwi_index__title-notice a{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.kiwi_header__slideout-author .info .link{display:block;font-size:15px;font-weight:500;color:var(--main)}.kiwi_header__slideout-author .info .motto{font-size:12px;color:var(--routine)}.kiwi_header__slideout-count,.kiwi_header__slideout-menu{padding:10px 15px}.kiwi_header__slideout-count{margin-bottom:15px}.kiwi_header__slideout-count .item,.kiwi_header__slideout-menu .link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--routine);padding:5px 0}.kiwi_header__slideout-count .item .joe-font{color:var(--routine);margin-right:5px}.kiwi_header__slideout-count .item strong{font-weight:500;color:var(--theme)}.kiwi_header__slideout-menu{overflow:hidden}.kiwi_header__slideout-menu .link{-webkit-box-pack:justify;-ms-flex-pack:justify; padding:10px 0;color:var(--main);-webkit-transition:color .15s;transition:color .15s}.kiwi_header__slideout-menu .link a{-webkit-transition:color .15s;transition:color .15s;color:var(--routine)}.kiwi_header__slideout-menu .link .joe-font{color:var(--minor);-webkit-transition:fill .15s,-webkit-transform .15s;transition:transform .15s,fill .15s;transition:transform .15s,fill .15s,-webkit-transform .15s}.kiwi_header__slideout-menu .link.in,.kiwi_header__slideout-menu .link.in a{color:var(--theme)}.kiwi_header__slideout-menu .link.in .joe-font{color:var(--theme);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.kiwi_header__slideout-menu .slides{display:none;border-left:1px solid var(--classC);padding-left:15px}.kiwi_header__slideout-menu .slides .link{color:var(--routine)}.kiwi_header__slideout-menu .current a,.kiwi_header__slideout-menu .slides .current{color:var(--theme);font-weight:500;font-size:15px}
    
</style>




    <div class="kiwi_header__above topInDown fixed glass">
      <div class="kiwi_container kiwi_header_container">
          <i class="fa fa-bars kiwi_header__above-slideicon"></i>
          <a title="秋码记录" class="kiwi_header__above-logo" href="https://qiucode.cn">
            <img style="border-radius:4px" src="/static/front/images/qiu-logo.png"  alt="秋码记录">
          </a>
        <nav class="kiwi_header__above-nav active-animate">

            <a class="item " href="/" title="首页" style="margin-right:8px">
                <i class="fa fa-home"></i> 首页
            </a>
           
            <a class="item " href="/flinks" title="友情链接">
                <i class="fa fa-link"></i>友情链接
            </a> 

            <a class="item " href="/timeline" title="点点滴滴">
                <i  class="fa fa-calendar-times-o"></i>点点滴滴
            </a> 

            <a class="item " href="/about" title="关于我">
                <i class="fa fa-user"></i>关于本站
            </a>
                
        </nav>
    <form class="kiwi_header__above-search" method="get" action="/search">
      <input maxlength="16" autocomplete="off" placeholder="请输入关键字..." name="keyword" value="" class="input" type="text">
      <button type="submit" class="submit" aria-label="搜索按钮"><i class="fa fa-search"></i></button>
      
    </form>
          <i class="fa fa-search kiwi_header__above-searchicon"></i>
      </div>
    </div>
  
    <div class="kiwi_header__slideout">
      <div class="kiwi_header__slideout-wrap">
        <img width="100%" height="150" class="kiwi_header__slideout-image" src="/static/front/images/qiu-logo.png"  alt="侧边栏壁纸">
        <div class="kiwi_header__slideout-author">
          <img width="50" height="50" class="avatar ls-is-cached" src="/static/front/images/qiu-logo.png" alt="博主头像">
          <div class="info">
            <a class="link" href="https://qiucode.cn" target="_blank" rel="noopener noreferrer nofollow">秋码记录</a>
              <p class="motto kiwi_motto">一个游离于山间之上的Java爱好者 | A Java lover living in the mountains</p>
          </div>
        </div>
    <div class="social-account">
        
    </div>
        <ul class="kiwi_header__slideout-count">
          <li class="item">
            <i class="joe-font joe-icon-riji"></i>
            <span>累计撰写 <strong>29</strong> 篇文章</span>
          </li>
          <li class="item">
            <i class="joe-font joe-icon-remen"></i>
            <span>累计创建 <strong>40</strong> 个标签</span>
          </li>
          <li class="item">
            <i class="joe-font joe-icon-message"></i>
            <span>累计创建 <strong>185</strong> 个分类</span>
          </li>
        </ul>
        <ul class="kiwi_header__slideout-menu panel-box">
          <li>
            <a class="link panel in" href="#" rel="nofollow">
            <span>栏目</span>
            <i class="joe-font joe-icon-arrow-right"></i>
            </a>
            <ul class="slides panel-body panel-box panel-side-menu" style="display: block;">
                      <li>
                        
                        <a class="link " href="/" title="首页" >
                          <i class="fa fa-home"></i> 首页
                        </a>
                      </li>

                   <li>
                    <a class="link " href="/flinks" title="友情链接">
                      <i class="fa fa-link"></i>友情链接
                    </a> 
                   </li>
                   
      
                   <li>
                    <a class="link " href="/timeline" title="点点滴滴">
                      <i  class="fa fa-calendar-times-o"></i>点点滴滴
                  </a> 
                   </li>
                   
      
                   <li>
                    <a class="link " href="/about" title="关于我">
                      <i class="fa fa-user"></i>关于本站
                  </a>
                   </li>
                   

                    
            </ul>
          </li>
        </ul>
      </div>
    </div>
  
      <div class="kiwi_header__searchout">
        <div class="kiwi_container">
          <div class="kiwi_header__searchout-inner">
            <form class="kiwi_header__above-search-mobile" method="get" action="/search">
              <input maxlength="16" autocomplete="off" placeholder="请输入关键字..." name="keyword" value="" class="input" type="text">
              <button type="submit" class="submit">搜索</button>
            </form>
                
          </div>
        </div>
      </div>
  
  
    <div class="kiwi_header__mask"></div>




<script>

    let sideBtn = document.querySelector(".kiwi_header__above-searchicon")

    sideBtn.addEventListener("click", () => {
      alert(666666)
        
        document.querySelector(".kiwi_header__searchout").style.visibility = 'visible'
        document.querySelector(".kiwi_header__mask").classList.add("active")
    })

    let maskBtn = document.querySelector(".kiwi_header__mask")

    maskBtn.addEventListener("click",() => {
        
        document.querySelector(".kiwi_header__searchout").style.visibility = 'hidden'
        maskBtn.classList.remove("active")
    })

   
    

</script></header>
	
		
	<div class="Qc_container showInUp">



<div class="Qc_main Qc_post">
    <div class="Qc_detail">
        <h1 class="title Qc_psot_title"> </h1>
        <div class="Qc_bread">
            <ul class="Qc_bread_bread">
                <li class="item"> <span class="iconfont icon-A131" style="margin-right: 4px;"></span> <a
                        href="https://qiucode.cn" class="link" title="首页">首页</a> </li>
                <li class="line">/</li>
                <li class="item"> <a class="link" href="https://qiucode.cncategory/bkfx/" title="博客分享">博客分享</a>
                </li>
                <li class="line">/</li>
                <li class="item">正文</li>
            </ul>
        </div>
        <div class="Qc_detail_category"> </div>
        <article class="Qc_detail_article" id="article-container">
            <h2 id="部署智能合约到-polygon-上web3项目三实战之三">部署智能合约到 polygon 上（Web3项目三实战之三）</h2>
<blockquote>
<p>在上一篇 <a href="https://blog.csdn.net/coco2d_x2014/article/details/135583723">为 Web3 项目撰写智能合约（Web3项目三实战之二）</a> 中，我们已经为<code>Web3</code>项目编写好了<code>智能合约</code>，而本文将要部署<code>智能合约</code>到 <code>polygon</code>上。</p>
<p>您或许会问，<code>polygon</code>到底是什么？其实它是<code>测试链</code>（也可以说是<code>测试网</code>），由于<code>主链</code>（或<code>主网</code>）部署<code>智能合约</code>是需要<code>gas</code>，而这<code>gas</code>是要花费您的<code>真金白银</code>的，毕竟<code>智能合约</code>是人编写出来的啊！不出<code>bug</code>那是极不可能的事，总得找个网络测试下吧，虽然在编写完<code>智能合约</code>，我们也会现在本地测试一番，但<code>本地网络</code>总是有区别于<code>远程网络</code>的！</p>
<p>要不，怎么会有<code>在我电脑测试的都没问题，怎么在其他人的电脑就出现各种意料不到的疑难杂症呢？</code>的奇葩事情？毕竟，我们每个人都是很<code>自我</code>的！对别人总是有这样或那样的<code>偏见</code>。</p>
</blockquote>
<h3 id="配置部署脚本">配置部署脚本</h3>
<p>我们还是一如既往的打开<code>IDE</code>（我这里选用的是<code>VS Code</code>，至于您嘛！可根据您平时常用的<code>IDE</code>，不必非要与我使用的一样，要不<code>强人所难</code>这一成语就不会诞生了，哈哈哈……）</p>
<p>首先，我们打开位于<code>web3</code>目录下的<code>scripts</code>子目录，修改其下的<code>deploy.js</code>文件。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">hre</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;hardhat&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tokenStaking</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">hre</span>.<span style="color:#a6e22e">ethers</span>.<span style="color:#a6e22e">deployContract</span>(<span style="color:#e6db74">&#34;TokenStaking&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">tokenStaking</span>.<span style="color:#a6e22e">waitForDeployment</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">theblockchaincoders</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">hre</span>.<span style="color:#a6e22e">ethers</span>.<span style="color:#a6e22e">deployContract</span>(<span style="color:#e6db74">&#34;Theblockchaincoders&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">theblockchaincoders</span>.<span style="color:#a6e22e">waitForDeployment</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">` STACKING: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">tokenStaking</span>.<span style="color:#a6e22e">target</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">` TOKEN: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">theblockchaincoders</span>.<span style="color:#a6e22e">target</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">main</span>().<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">exitCode</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>随后，我们回到<code>web3</code>目录下，对<code>hardhat.config.js</code>进行修改。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@nomicfoundation/hardhat-toolbox&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** @type import(&#39;hardhat/config&#39;).HardhatUserConfig */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">PRIVATE_KEY</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;YOUR ADDRESS&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">RPC_URL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://rpc.ankr.com/polygon_mumbai&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">defaultNetwork</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;polygon_mumbai&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">networks</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hardhat</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">chainId</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">80001</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">polygon_mumbai</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://rpc.ankr.com/polygon_mumbai&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">accounts</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">`0x</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">PRIVATE_KEY</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>],
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">solidity</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">version</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0.8.9&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">settings</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">optimizer</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">enabled</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">runs</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>这里需要注意的是，部署合约到<code>polygon</code>上，须将部署合约的账号的私钥拷贝进去。</p>
<h4 id="图片">图片</h4>
<h3 id="编写与-智能合约-交互的javascript">编写与 智能合约 交互的javascript</h3>
<p>我们回到项目根路径下，也就是与<code>web3</code>目录同级的<code>js</code>目录。</p>
<p>我们将刚刚部署生成的<code>address</code>拷贝到<code>header.js</code>文件中，以及复制生成了两个合约的<code>json</code>文件内的<code>ABI</code>到对应位置。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">_NETWORK_ID</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">80001</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">SELECT_CONTRACT</span> <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">network_name</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;Polygon Mumbai&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">explorer_url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://mumbai.polygonscan.com/&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">STACKING</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//0x4cA2a661F6bA50c59Eb0854ff6F1B06e228f72b6
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">sevenDays</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">address</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;0x5764730f2aEC70Dc6443836614ab33885d385493&#34;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">tenDays</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">address</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x18E6d0eb4Cf368b4089BdEE8158a46EAF5003aA3&#34;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">thirtyTwoDays</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">address</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;0xD4623098a915D254810dc9E8f210733E4108ebaD&#34;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ninetyDays</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">address</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;0x4aafc4309Decf7Fc9cBD560a9c65A0052486f97b&#34;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">abi</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//0x4c78043046fEeD6F88E43E08c2e8022fFFC10E8f
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">TOKEN</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">symbol</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;BC&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">address</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;0x8f443407C1C23D1979E2B725a21E8D8F6976dB81&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">abi</span><span style="color:#f92672">:</span>[],
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* countdown global */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">countDownGlobal</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* wallet connection */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">web3</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">oContractToken</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">contractCall</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;sevenDays&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">currentAddress</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">web3Main</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Web3</span>(<span style="color:#e6db74">&#34;https://rpc.ankr.com/polygon_mumbai&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create an instance of Notyf
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">notyf</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Notyf</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;right&#34;</span>, 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">y</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;bottom&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>接着便是<code>common.js</code>文件内容了。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">commonProviderDetector</span>(<span style="color:#a6e22e">_provider</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">_provider</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;metamask_wallet&#34;</span>) {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (window.<span style="color:#a6e22e">ethereum</span> <span style="color:#f92672">&amp;&amp;</span> window.<span style="color:#a6e22e">ethereum</span>.<span style="color:#a6e22e">providers</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">metamaskProvider</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">ethereum</span>.<span style="color:#a6e22e">providers</span>.<span style="color:#a6e22e">find</span>((<span style="color:#a6e22e">provider</span>) =&gt; <span style="color:#a6e22e">provider</span>.<span style="color:#a6e22e">isMetaMask</span>);
</span></span><span style="display:flex;"><span>           
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">metamaskProvider</span>) {
</span></span><span style="display:flex;"><span>                window.<span style="color:#a6e22e">ethereum</span>.<span style="color:#a6e22e">providers</span> <span style="color:#f92672">=</span>[<span style="color:#a6e22e">metamaskProvider</span>];
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">commonInjectedConnect</span>(<span style="color:#a6e22e">metamaskProvider</span>,<span style="color:#a6e22e">_provider</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;metamask wallet not found&#34;</span> );
</span></span><span style="display:flex;"><span>                window.<span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;https://metamask.io/download/&#34;</span>,<span style="color:#e6db74">&#34;_blank&#34;</span>).<span style="color:#a6e22e">focus</span>( );
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (window.<span style="color:#a6e22e">ethereum</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">commonInjectedConnect</span>(window.<span style="color:#a6e22e">ethereum</span>,<span style="color:#a6e22e">_provider</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;metamask wallet not found&#34;</span> );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>                window.<span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;https://metamask.io/download/&#34;</span>,<span style="color:#e6db74">&#34;_blank&#34;</span>).<span style="color:#a6e22e">focus</span>();
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">commonInjectedConnect</span>(<span style="color:#a6e22e">_provider</span>,<span style="color:#a6e22e">_provider_name</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">_provider</span>.<span style="color:#a6e22e">enable</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setWeb3Events</span>(<span style="color:#a6e22e">_provider</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">web3</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Web3</span>(<span style="color:#a6e22e">_provider</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get connected chain id from Ethereum node
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">currentNetworkId</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">web3</span>.<span style="color:#a6e22e">eth</span>.<span style="color:#a6e22e">getChainId</span>( );
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">currentNetworkId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">currentNetworkId</span>.<span style="color:#a6e22e">toString</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;network&#34;</span>,<span style="color:#a6e22e">currentNetworkId</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">accounts</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">web3</span>.<span style="color:#a6e22e">eth</span>.<span style="color:#a6e22e">getAccounts</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;-&gt; accounts&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">accounts</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">currentAddress</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">accounts</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">toLowerCase</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">currentNetworkId</span> <span style="color:#f92672">!=</span> <span style="color:#a6e22e">_NETWORK_ID</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">`Please connect Wallet on </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">network_name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">oContractToken</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">web3</span>.<span style="color:#a6e22e">eth</span>.<span style="color:#a6e22e">Contract</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">TOKEN</span>.<span style="color:#a6e22e">abi</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">TOKEN</span>.<span style="color:#a6e22e">address</span>
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setWeb3Events</span>(<span style="color:#a6e22e">_provider</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_provider</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;accountsChanged&#34;</span>,(<span style="color:#a6e22e">accounts</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">accounts</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">accounts</span>.<span style="color:#a6e22e">length</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">logout</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">currentAddress</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">accounts</span>[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sClass</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getSelectedTab</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Subscribe to chainId change
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">_provider</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;chainChanged&#34;</span>,(<span style="color:#a6e22e">chainId</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">chainId</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">logout</span>();
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Subscribe to session connection
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">_provider</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;connect&#34;</span>,() =&gt;{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;connect&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">logout</span>();
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Subscribe to session disconnection
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">_provider</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;disconnect&#34;</span>,(<span style="color:#a6e22e">code</span>,<span style="color:#a6e22e">reason</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">code</span>,<span style="color:#a6e22e">reason</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">clear</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">logout</span>();
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">logout</span>( ) {
</span></span><span style="display:flex;"><span>    window.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">reload</span>( );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">addDecimal</span>(<span style="color:#a6e22e">num</span>,<span style="color:#a6e22e">nDec</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">aNum</span> <span style="color:#f92672">=</span><span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">num</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">1</span>]) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">nDec</span>) <span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">0</span>,<span style="color:#a6e22e">nDec</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span> <span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;0&#34;</span> .<span style="color:#a6e22e">repeat</span>(<span style="color:#a6e22e">nDec</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">length</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">aNum</span>[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;0&#34;</span>.<span style="color:#a6e22e">repeat</span>(<span style="color:#a6e22e">nDec</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">eFrom</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">index0f</span>(<span style="color:#e6db74">&#34;{&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">eTo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">lastIndex0f</span>(<span style="color:#e6db74">&#34;}&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">eM1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">index0f</span>(<span style="color:#e6db74">&#34;TokenStaking:&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">eM2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">index0f</span>(<span style="color:#e6db74">&#34;ERC20 :&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">eM4</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">index0f</span>(<span style="color:#e6db74">&#34;Internal JSON-RPC error&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">eFrom</span> <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">eTo</span> <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> (<span style="color:#a6e22e">eM1</span> <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">eM2</span> <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">eMsgTemp</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">eFrom</span>,<span style="color:#a6e22e">eTo</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">eMsg</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">eM4</span> <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">eMsgTemp</span>.<span style="color:#a6e22e">message</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">eMsgTemp</span>.<span style="color:#a6e22e">originalError</span>.<span style="color:#a6e22e">message</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">eM1</span> <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">eMsg</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;TokenStaking:&#34;</span>)[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">eMsg</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;ERC20 :&#34;</span>)[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">err</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Something Went Wrong!&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getSelectedTab</span>(<span style="color:#a6e22e">sClass</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sclass</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">contractCall</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getContractObj</span>(<span style="color:#a6e22e">sClass</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">web3</span>.<span style="color:#a6e22e">eth</span>.<span style="color:#a6e22e">Contract</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">STACKING</span>.<span style="color:#a6e22e">abi</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">STACKING</span>[<span style="color:#a6e22e">sClass</span>].<span style="color:#a6e22e">address</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>而后，那则是<code>index.js</code>文件内容了。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">//FUNCTION CALL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">loadInitialData</span>(<span style="color:#e6db74">&#34;sevenDays&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">connectMe</span>(<span style="color:#e6db74">&#34;metamask_wallet&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">connectWallet</span>() {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">openTab</span>(<span style="color:#a6e22e">event</span>,<span style="color:#a6e22e">name</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">name</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">contractCall</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">getSelectedTab</span>( <span style="color:#a6e22e">name</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">loadInitialData</span>(<span style="color:#a6e22e">name</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">loadInitialData</span>(<span style="color:#a6e22e">sClass</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">clearInterval</span>(<span style="color:#a6e22e">countDownGlobal</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">c0bj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">web3Main</span>.<span style="color:#a6e22e">eth</span>.<span style="color:#a6e22e">Contract</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">STACKING</span>.<span style="color:#a6e22e">abi</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">STACKING</span> [<span style="color:#a6e22e">sClass</span>].<span style="color:#a6e22e">address</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//ID ELEMENT DATA
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">totalUsers</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cObj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getTotalUsers</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">cApy</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getAPY</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//GET USER
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">userDetail</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getUser</span>(<span style="color:#a6e22e">currentAddress</span>).<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">lastRewardCalculationTime</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userDetail</span>.<span style="color:#a6e22e">lastRewardCalculationTime</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">lastStakeTime</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userDetail</span>.<span style="color:#a6e22e">lastStakeTime</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">rewardAmount</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userDetail</span>.<span style="color:#a6e22e">rewardAmount</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">rewardsClaimedSoFar</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userDetail</span>.<span style="color:#a6e22e">rewardsClaimedSoFar</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">stakeAmount</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">userDetail</span>.<span style="color:#a6e22e">stakeAmount</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">address</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;User&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">user</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">userDetailBal</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userDetail</span>.<span style="color:#a6e22e">stakeAmount</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span><span style="color:#ae81ff">18</span>;
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;total-locked-user-token&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">userDetailBal</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//ELEMENTS --ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;num-of-stackers-value&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">totalUsers</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;apy-value-feature&#34;</span> ).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">cApy</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> %`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//CLASS ELEMENT DATA
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">totalLockedTokens</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getTotalStakedTokens</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">earlyUnstakeFee</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getEarlyUnstakeFeePercentage</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//ELEMENTS --CLASS
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;total-locked-tokens-value&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span><span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">totalLockedTokens</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">TOKEN</span>.<span style="color:#a6e22e">symbol</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.early-unstake-fee-value&#34;</span>).<span style="color:#a6e22e">forEach</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">element</span>){<span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span><span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">earlyUnstakeFee</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%`</span>; })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">minStakeAmount</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getMinimumStakingAmount</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">minStakeAmount</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">minStakeAmount</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">minA</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">minStakeAmount</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">minA</span> <span style="color:#f92672">=</span><span style="color:#e6db74">`</span><span style="color:#e6db74">${</span>(<span style="color:#a6e22e">minStakeAmount</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span>).<span style="color:#a6e22e">toLocaleString</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">TOKEN</span>.<span style="color:#a6e22e">symbol</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">minA</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;N/A&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.Minimum-Staking-Amount&#34;</span>).<span style="color:#a6e22e">forEach</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">element</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">minA</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.Maximum-Staking-Amount&#34;</span>).<span style="color:#a6e22e">forEach</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">element</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span><span style="color:#e6db74">`</span><span style="color:#e6db74">${</span>(<span style="color:#ae81ff">10000000</span>).<span style="color:#a6e22e">toLocaleString</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">TOKEN</span>.<span style="color:#a6e22e">symbol</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isStakingPaused</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getStakingStatus</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isStakingPausedText</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">startDate</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getStakeStartDate</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">startDate</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">startDate</span>)<span style="color:#f92672">*</span> <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">endDate</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getStakeEndDate</span>().<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">endDate</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">endDate</span>)<span style="color:#f92672">*</span> <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">stakeDays</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getStakeDays</span>( ).<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">days</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(Number(<span style="color:#a6e22e">stakeDays</span>) <span style="color:#f92672">/</span> (<span style="color:#ae81ff">3600</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">24</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">dayDisplay</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">days</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">days</span> <span style="color:#f92672">+</span> (<span style="color:#a6e22e">days</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34; day,&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; days,&#34;</span>)<span style="color:#f92672">:</span><span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.Lock-period-value&#34;</span>).<span style="color:#a6e22e">forEach</span> ( <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">element</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">dayDisplay</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rewardBal</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">c0bj</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getUserEstimatedRewards</span>().<span style="color:#a6e22e">call</span>({ <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span> });
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;user-reward-balance-value&#34;</span>).<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Reward: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">rewardBal</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">TOKEN</span>.<span style="color:#a6e22e">symbol</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//USER TOKEN BALANCE
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">currentAddress</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractToken</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">balanceOf</span>(<span style="color:#a6e22e">currentAddress</span>).<span style="color:#a6e22e">call</span>() <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">balMainUser</span>) <span style="color:#f92672">/</span><span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;user-token-balance&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Balance: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">balMainUser</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">currentDate</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">getTime</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isStakingPaused</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">isStakingPausedText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Paused&#34;</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">currentDate</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">startDate</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">isStakingPausedText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Locked&#34;</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">currentDate</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">endDate</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">isStakingPausedText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Ended&#34;</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">isStakingPausedText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Active&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.active-status-stacking&#34;</span>).<span style="color:#a6e22e">forEach</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">element</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span><span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">isStakingPausedText</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">currentDate</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">startDate</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">currentDate</span><span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">endDate</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ele</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;countdown-time-value&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">generateCountDown</span>(<span style="color:#a6e22e">ele</span>,<span style="color:#a6e22e">endDate</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;countdown-title-value&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Staking Ends In`</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">currentDate</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">startDate</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ele</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;countdown-time-value&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">generateCountDown</span>(<span style="color:#a6e22e">ele</span>,<span style="color:#a6e22e">endDate</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;countdown-title-value&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Staking Starts In`</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.apy-value&#34;</span>).<span style="color:#a6e22e">forEach</span> ( <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">element</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">cApy</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> %`</span>;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">err</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">`Unable to fetch data from </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">network_name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!\n Please
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            refersh this page.`</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">generateCountDown</span>(<span style="color:#a6e22e">ele</span>,<span style="color:#a6e22e">claimDate</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">clearInterval</span>(<span style="color:#a6e22e">countDownGlobal</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Set the date we&#39;re counting down to
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">countDownDate</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date(<span style="color:#a6e22e">claimDate</span>).<span style="color:#a6e22e">getTime</span>( );
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Update the count down every 1 second
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">countDownGlobal</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(<span style="color:#66d9ef">function</span> (){
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Get today&#39;s date and time
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">now</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">getTime</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Find the distance between now and the count down date
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">distance</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">countDownDate</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">now</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Time calculations for days, hours, minutes and seconds
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">days</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">distance</span> <span style="color:#f92672">/</span> (<span style="color:#ae81ff">1000</span> <span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">24</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">hours</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">distance</span> <span style="color:#f92672">%</span> (<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">24</span>))<span style="color:#f92672">/</span> (<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">minutes</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">distance</span> <span style="color:#f92672">%</span> (<span style="color:#ae81ff">1000</span> <span style="color:#f92672">*</span><span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>))<span style="color:#f92672">/</span> (<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">seconds</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">distance</span> <span style="color:#f92672">%</span> (<span style="color:#ae81ff">1000</span> <span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>)) <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Display the result in the element with id=&#34;demo&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">ele</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">days</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;d &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">hours</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;h &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">minutes</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;m &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">seconds</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;s &#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ele.html(days + &#34;d &#34; + hours + &#34;h &#34; + minutes + &#34;m &#34; + seconds + &#34;s &#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// If the count down is finished, write some text
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">distance</span> <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">clearInterval</span>(<span style="color:#a6e22e">countDownGlobal</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">ele</span>.<span style="color:#a6e22e">html</span>(<span style="color:#e6db74">&#34;Refresh Page&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    },<span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">connectMe</span>(<span style="color:#a6e22e">_provider</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">_comn_res</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">commonProviderDetector</span>(<span style="color:#a6e22e">_provider</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">_comn_res</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">_comn_res</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Please Connect&#34;</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sClass</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getSelectedTab</span>( );
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">stackTokens</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">nTokens</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;amount-to-stack-value-new&#34;</span>).<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">nTokens</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isNaN(<span style="color:#a6e22e">nTokens</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">nTokens</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> Number(<span style="color:#a6e22e">nTokens</span>) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Invalid token amount!`</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">nTokens</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">nTokens</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">tokenToTransfer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">addDecimal</span>(<span style="color:#a6e22e">nTokens</span>,<span style="color:#ae81ff">18</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;tokenToTransfer&#34;</span>,<span style="color:#a6e22e">tokenToTransfer</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractToken</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">balanceOf</span>(<span style="color:#a6e22e">currentAddress</span>).<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">balMainUser</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;balMainUser&#34;</span>, <span style="color:#a6e22e">balMainUser</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">nTokens</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">`insufficient tokens on </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">network_name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">,\nPlease
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            buy some tokens first!`</span>
</span></span><span style="display:flex;"><span>            );
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sClass</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getSelectedTab</span>(<span style="color:#a6e22e">contractCall</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">balMainAllowance</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractToken</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">allowance</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">STACKING</span>[<span style="color:#a6e22e">sClass</span>].<span style="color:#a6e22e">address</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (Number(<span style="color:#a6e22e">balMainAllowance</span>) <span style="color:#f92672">&lt;</span> Number(<span style="color:#a6e22e">tokenToTransfer</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">approveTokenSpend</span>(<span style="color:#a6e22e">tokenToTransfer</span>,<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">stackTokenMain</span>(<span style="color:#a6e22e">tokenToTransfer</span>,<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">dismiss</span>(<span style="color:#a6e22e">notification</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">approveTokenSpend</span>(<span style="color:#a6e22e">_mint_fee_wei</span>,<span style="color:#a6e22e">sClass</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">gasEstimation</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gasEstimation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractToken</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">approve</span>(
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">STACKING</span> [<span style="color:#a6e22e">sClass</span>].<span style="color:#a6e22e">address</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">_mint_fee_wei</span>
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">estimateGas</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">oContractToken</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">approve</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">STACKING</span>[<span style="color:#a6e22e">sClass</span>].<span style="color:#a6e22e">address</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">_mint_fee_wei</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">send</span>({
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">gas</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">gasEstimation</span>,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;transactionHash&#34;</span>,(<span style="color:#a6e22e">hash</span> ) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Transaction Hash:&#34;</span>,<span style="color:#a6e22e">hash</span>);
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;receipt&#34;</span>,(<span style="color:#a6e22e">receipt</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">receipt</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">stackTokenMain</span>(<span style="color:#a6e22e">_mint_fee_wei</span>);
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">stackTokenMain</span>(<span style="color:#a6e22e">_amount_wei</span>, <span style="color:#a6e22e">sclass</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">gasEstimation</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">oContractStacking</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getContract0bj</span>(<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gasEstimation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>         .<span style="color:#a6e22e">stake</span>(<span style="color:#a6e22e">_amount_wei</span>)
</span></span><span style="display:flex;"><span>         .<span style="color:#a6e22e">estimateGas</span>({
</span></span><span style="display:flex;"><span>           <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">stake</span>(<span style="color:#a6e22e">_amount_wei</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">send</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gas</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">gasEstimation</span>,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;receipt&#34;</span>,(<span style="color:#a6e22e">receipt</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">receipt</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">receipt0bj</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">token</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">_amount_wei</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">from</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">to</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">blockHash</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">blockHash</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">blockNumber</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">blockNumber</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">cumulativeGasUsed</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">cumulativeGasUsed</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">effectiveGasPrice</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">effectiveGasPrice</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">gasUsed</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">gasUsed</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">status</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">transactionHash</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">transactionHash</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">type</span>,
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">transactionHistory</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">allUserTransaction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">allUserTransaction</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">transactionHistory</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">transactionHistory</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">receiptobj</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">transactionHistory</span>));
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">transactionHistory</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">receipt0bj</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">transactionHistory</span>))
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">allUserTransaction</span>);
</span></span><span style="display:flex;"><span>        window.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">href</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://127.0.0.1:5500/analytic.html&#34;</span>;
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;transactionHash&#34;</span>,(<span style="color:#a6e22e">hash</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Transaction Hash:&#34;</span>, <span style="color:#a6e22e">hash</span>);
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    .<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">unstackTokens</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">nTokens</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;amount-to-unstack-value&#34;</span>).<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">nTokens</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (isNaN(<span style="color:#a6e22e">nTokens</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">nTokens</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> Number(<span style="color:#a6e22e">nTokens</span>) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">`Invalid token amount!`</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">nTokens</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">nTokens</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">tokenToTransfer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">addDecimal</span>(<span style="color:#a6e22e">nTokens</span>,<span style="color:#ae81ff">18</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sClass</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getSelectedTab</span>(<span style="color:#a6e22e">contractCall</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">oContractStacking</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getContract0bj</span>(<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">getUser</span>(<span style="color:#a6e22e">currentAddress</span>).<span style="color:#a6e22e">call</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">balMainUser</span>.<span style="color:#a6e22e">stakeAmount</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">18</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">balMainUser</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">nTokens</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">`insufficient staked tokens on </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">SELECT_CONTRACT</span>[<span style="color:#a6e22e">_NETWORK_ID</span>].<span style="color:#a6e22e">network_name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>
</span></span><span style="display:flex;"><span>            );
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">unstackTokenMain</span>(<span style="color:#a6e22e">tokenToTransfer</span>, <span style="color:#a6e22e">oContractStacking</span>, <span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">dismiss</span>(<span style="color:#a6e22e">notification</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">unstackTokenMain</span>(<span style="color:#a6e22e">_amount_wei</span>,<span style="color:#a6e22e">oContractStacking</span>,<span style="color:#a6e22e">sClass</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">gasEstimation</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gasEstimation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">unstake</span>(<span style="color:#a6e22e">_amount_wei</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">estimateGas</span>({<span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>, });
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">unstake</span>(<span style="color:#a6e22e">_amount_wei</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">send</span>({
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">gas</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">gasEstimation</span>,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;receipt&#34;</span>,(<span style="color:#a6e22e">receipt</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">receipt</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">receipt0bj</span> <span style="color:#f92672">=</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">token</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">_amount_wei</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">from</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">to</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">blockHash</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">blockHash</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">blockNumber</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">blockNumber</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">cumulativeGasUsed</span><span style="color:#f92672">:</span><span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">cumulativeGasUsed</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">effectiveGasPrice</span><span style="color:#f92672">:</span><span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">effectiveGasPrice</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">gasUsed</span><span style="color:#f92672">:</span><span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">gasUsed</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">status</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHash</span><span style="color:#f92672">:</span><span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">transactionHash</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">type</span>,
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">transactionHistory</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">allUserTransaction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">allUserTransaction</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHistory</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>));
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHistory</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">receipt0bj</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">transactionHistory</span>));
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHistory</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">receipt0bj</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">transactionHistory</span>));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            window.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">href</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://127.0.0.1:5500/analytic.html&#34;</span>;
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;transactionHash&#34;</span>,(<span style="color:#a6e22e">hash</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Transaction Hash:&#34;</span>,<span style="color:#a6e22e">hash</span>);
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">claimTokens</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">sClass</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getSelectedTab</span>(<span style="color:#a6e22e">contractCall</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">oContractStacking</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">getContract0bj</span>(<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rewardBal</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">getUserEstimatedRewards</span>( )
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">call</span>({ <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>});
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">rewardBal</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">rewardBal</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;rewardBal&#34;</span>, <span style="color:#a6e22e">rewardBal</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">rewardBal</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">dismiss</span>(<span style="color:#a6e22e">notification</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">`insufficient reward tokens to claim!`</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">claimTokenMain</span>(<span style="color:#a6e22e">oContractStacking</span>,<span style="color:#a6e22e">sClass</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">dismiss</span>(<span style="color:#a6e22e">notification</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">claimTokenMain</span>(<span style="color:#a6e22e">oContractStacking</span>,<span style="color:#a6e22e">sclass</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">gasEstimation</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gasEstimation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>.<span style="color:#a6e22e">claimReward</span>().<span style="color:#a6e22e">estimateGas</span>({
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;gasEstimation&#34;</span>,<span style="color:#a6e22e">gasEstimation</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">oContractStacking</span>.<span style="color:#a6e22e">methods</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">claimReward</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">send</span>({
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">currentAddress</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">gas</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">gasEstimation</span>,
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;receipt&#34;</span>,(<span style="color:#a6e22e">receipt</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">receipt</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">receipt0bj</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">from</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">to</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">blockHash</span><span style="color:#f92672">:</span><span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">blockHash</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">blockNumber</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">blockNumber</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">cumulativeGasUsed</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">cumulativeGasUsed</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">effectiveGasPrice</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">effectiveGasPrice</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">gasUsed</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">gasUsed</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">status</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHash</span><span style="color:#f92672">:</span><span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">transactionHash</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span><span style="color:#a6e22e">receipt</span>.<span style="color:#a6e22e">type</span>,
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">transactionHistory</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">allUserTransaction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">allUserTransaction</span>){
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHistory</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>));
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHistory</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">receipt0bj</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">transactionHistory</span>));
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">transactionHistory</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">receipt0bj</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">transactionHistory</span>));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            window.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">href</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://127.0.0.1:5500/analytic.html&#34;</span>;
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#34;transactionHash&#34;</span>,(<span style="color:#a6e22e">hash</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Transaction Hash:&#34;</span>,<span style="color:#a6e22e">hash</span>);
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#66d9ef">catch</span>((<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">notyf</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">formatEthErrorMsg</span>(<span style="color:#a6e22e">error</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="web3minjs-第三方文件内容了">web3.min.js 第三方文件内容了。</h3>
<h3 id="页面配置项">页面配置项</h3>
<p>我们在<code>js</code>目录下的<code>Data</code>子目录，对<code>homeData.js</code>文件进行修改。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">//HOGE MAGE
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">upcoming</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">contract</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;BCoders&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;300&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">44</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Active&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">7</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">contract</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;MataCoin&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;500&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">114</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Active&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">contract</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Blockchain&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;31&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">441</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Active&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">32</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">contract</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;MEME Coin&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1300&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">424</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Active&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">60</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">contract</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;NEW ECIT&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">total</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;5500&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">234</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Active&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">90</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">IGO</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">users</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Shoaib Bhai&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;scientist&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Daulat&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Coder&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Shanawaz&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Doctor&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Md Faiz&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Doctor&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Tajuddin&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Business&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">footerMenu</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>  { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Feature&#34;</span>, <span style="color:#a6e22e">link</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/&#34;</span> },
</span></span><span style="display:flex;"><span>  { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Roadmap&#34;</span>, <span style="color:#a6e22e">link</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/&#34;</span> },
</span></span><span style="display:flex;"><span>  { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;How It Works&#34;</span>, <span style="color:#a6e22e">link</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/&#34;</span> },
</span></span><span style="display:flex;"><span>  { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Blog&#34;</span>, <span style="color:#a6e22e">link</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/&#34;</span> },
</span></span><span style="display:flex;"><span>  { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Privacy Policy&#34;</span>, <span style="color:#a6e22e">link</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/&#34;</span> },
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div><p><code>product.json</code>文件内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Blog Post 1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Description for Blog Post 1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum faucibus ligula vitae fermentum sollicitudin. Phasellus ut mollis massa.&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Blog Post 2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Description for Blog Post 2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum faucibus ligula vitae fermentum sollicitudin. Phasellus ut mollis massa.&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Blog Post 3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Description for Blog Post 3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum faucibus ligula vitae fermentum sollicitudin. Phasellus ut mollis massa.&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p><code>projectData.js</code>文件内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">projectContract</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Shoaib Bhai&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">icon</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ethereum&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; Hussain&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">icon</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ethereum&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34; Blockchain &#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">icon</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;solana&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Rahul&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">icon</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ethereum-gold&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Time Boom&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">icon</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;binance&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div><p><code>projectDetails.js</code>文件内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Blog Post 1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">description</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Description for Blog Post 1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum faucibus ligula vitae fermentum sollicitudin. Phasellus ut mollis massa.&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Blog Post 2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">description</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Description for Blog Post 2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum faucibus ligula vitae fermentum sollicitudin. Phasellus ut mollis massa.&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Blog Post 3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">description</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Description for Blog Post 3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum faucibus ligula vitae fermentum sollicitudin. Phasellus ut mollis massa.&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div><p><code>userTransaction.js</code>文件内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userTransaction</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;transactions&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">User</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;User&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">generateCountDown</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">now</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">getDate</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">minutes</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">now</span> <span style="color:#f92672">%</span> (<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>))<span style="color:#f92672">/</span> (<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">seconds</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">now</span> <span style="color:#f92672">%</span> (<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">60</span>)) <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">minutes</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;m&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">seconds</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;s&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">contractTransactionList</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;.dataUserTransaction&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">UserProfile</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#34;.contract-user&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userTransactionHistory</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userTransaction</span>.<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">transaction</span>,<span style="color:#a6e22e">i</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;div class=&#34;col-12 col-md-6 col-lg-4 item explore-item&#34; data-groups=&#39;[&#34;ongoing&#34;,&#34;ended&#34;]&#39;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;div class=&#34;card project-card&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;div class=&#34;media&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;a href=&#34;project-details.html&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;img src=&#34;assets/img/content/thumb_</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.png&#34; alt=&#34;&#34; class=&#34;card-img-top avatar-max-lg&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;div class=&#34;media-body ml-4&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;a href=&#34;project-details.html&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;h4 class=&#34;m-0&#34;&gt;#tbCoders&lt;/h4&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;div class=&#34;countdown-times&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;h6 class=&#34;my-2&#34;&gt;Transaction N0:</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/h6&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;div class=&#34;countdown d-flex&#34; data-data=&#34;2022-06-30&#34;&gt;&lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;div class=&#34;card-body&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;div class=&#34;items&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;div class=&#34;single-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">transaction</span>.<span style="color:#a6e22e">token</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;Amount&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Claim Token&#34;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;span&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">transaction</span>.<span style="color:#a6e22e">token</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;div class=&#34;single-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;span&gt;Gas&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;span&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">transaction</span>.<span style="color:#a6e22e">gasUsed</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;div class=&#34;single-item&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;span&gt;Status&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;span&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">transaction</span>.<span style="color:#a6e22e">status</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;div class=&#34;project-footer d-flex align-items-center mt-4 mt-md-5&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;a class=&#34;btn btn-bordered-white btn-smaller&#34; href=&#34;https://polygonscan.com/tx/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">transaction</span>.<span style="color:#a6e22e">transactionHash</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;&gt;Transaction&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;div class=&#34;social-share ml-auto&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;ul class=&#34;d-flex list-unstyled&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;a href=&#34;#&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                &lt;i class=&#34;fab fa-twitter&#34;&gt;&lt;/i&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;a href=&#34;#&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                &lt;i class=&#34;fab fa-telegram&#34;&gt;&lt;/i&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;a href=&#34;#&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                &lt;i class=&#34;fab fa-globe&#34;&gt;&lt;/i&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;a href=&#34;#&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                &lt;i class=&#34;fab fa-discord&#34;&gt;&lt;/i&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                            &lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/ul&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;div class=&#34;blockchain-icon&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;img src=&#34;assets/img/content/ethereum.png&#34; alt=&#34;&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    `</span>;
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//USER
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userProfileHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;div class=&#34;contract-user-profile&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;img src=&#34;assets/img/content/team_1.png&#34; alt=&#34;&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;div class=&#34;contract-user-profile-info&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;p&gt;&lt;strong&gt;Address:&lt;/strong&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">address</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">25</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">..&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;span class=&#34;contract-space&#34;&gt;&lt;strong&gt;Stake Amount:&amp;nbsp; &lt;/strong&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">stakeAmount</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;span class=&#34;contract-space&#34;&gt;&lt;strong&gt;last Reward Calculation Time:&amp;nbsp; &lt;/strong&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">generateCountDown</span>(<span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">lastRewardCalculationTime</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;span class=&#34;contract-space&#34;&gt;&lt;strong&gt;last Stake Time:&amp;nbsp; &lt;/strong&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">generateCountDown</span>(<span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">lastStakeTime</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;span class=&#34;contract-space&#34;&gt;&lt;strong&gt;Reward Token:&amp;nbsp; &lt;/strong&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">rewardAmount</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;span class=&#34;contract-space&#34;&gt;&lt;strong&gt;Rewards Claimed So Far:&amp;nbsp; &lt;/strong&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">rewardsClaimedSoFar</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">18</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;p class=&#34;contract-paragraph&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                Lorem ipsum dolor sit amet
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                consectetur adipisicing elit.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                Harum
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                ut inventore minus, blanditiis
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                officia, commodi cum corrupti
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                delectus ullam quisquam ?
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">UserProfile</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userProfileHTML</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">contractTransactionList</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userTransactionHistory</span>;
</span></span></code></pre></div><p>![image-20240118190553707](E:\MyNoteImages\部署智能合约到 polygon 上（Web3项目三实战之三）\image-20240118190553707.png)</p>

        </article>
    </div>

    
       	






<div id="comments" class="post-comments">
  <div class="comment-head">
    <div class="comment-headline">
      <i class="fa fa-comments fa-fw"></i>
      
    </div>
  
  </div>
  <div class="comment-wrap">
  
  
    <div>      
      <div class="comment-loading">
    <i class="fa fa-sync fa-spin"></i>
  </div>
      <div class="waline-container"></div>



    </div>
  
  </div>
</div>  

    
</div>




<script>
    
    
    
    
    
    
    

    
    
</script>


<script>
    let activeElement;
    let elements;
    
    

    
        
    
    
    
    

    
    
    

    
        
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    

    

    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
</script>
 





<script>
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</script>



<script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</script>
<script>
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
            
    
            
    
    
    
            
    
    
    
    
</script><aside class="Qc_aside">

<section class="Qc_aside_item tags"> 
    <div class="Qc_aside_item-title"> 
        <i class="iconfont icon-A67" style="margin-right: 8px;font-size: 17px"></i> 
        <span class="text">文章分类</span> 
        <span class="qccq_mac"></span> 
    </div> 
    <div class="Qc_aside_item-contain" style="padding:10px"> 
        <div class="tag"></div> 
		<ul class="list">
			
			
			   
			<li class="item"> 
				<a class="link" href="/categories/bootstraptable/">Bootstraptable </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/centos/">CentOS </a>
				<span class="widget__counter widget__counter--bubble">4</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/chrome%E6%89%A9%E5%B1%95/">Chrome扩展 </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/cocos2d-x/">cocos2d-x </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/docker/">Docker </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/extjs/">extjs </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/fastadmin/">Fastadmin </a>
				<span class="widget__counter widget__counter--bubble">2</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/git/">Git </a>
				<span class="widget__counter widget__counter--bubble">5</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/golang/">golang </a>
				<span class="widget__counter widget__counter--bubble">35</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/hugo/">Hugo </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
	</div>
</section>




<section class="Qc_aside_item tags"> 
    <div class="Qc_aside_item-title"> 
        <i class="iconfont icon-A67" style="margin-right: 8px;font-size: 17px"></i> 
        <span class="text">标签云</span> 
        <span class="xccx_mac"></span> 
    </div> 
     <div class="Qc_aside_item-contain" style="padding:10px"> 
        <div class="tag"></div> 
        <ul class="cloud">
            

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/abstract/" title="abstract">abstract</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/ag-grid/" title="ag-grid">ag-grid</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/apache/" title="Apache">Apache</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/array/" title="array">array</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/bootstraptable/" title="Bootstraptable">Bootstraptable</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/branch/" title="branch">branch</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/break/" title="break">break</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/centos/" title="CentOS">CentOS</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/centos7/" title="CentOS7">CentOS7</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/channel/" title="channel">channel</a>
            </li>

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                
         </ul> 
        </div> 
    </section>



    

    <section class="sticky_layout"><style>

    .card-widget:first-child {
        margin-top: 0
    }

    @media screen and (max-width:900px) {
        .card-widget:first-child {
            margin-top: 20px
        }
    }

     .card-widget {
        position: relative;
        overflow: hidden;
        margin-top: 20px;
        padding: 20px 24px;
        color:var(--main)
    }

     .card-widget,
    #recent-posts>.recent-post-item,
    .cardHover,
    .error404 #error-wrap .error-content,
    .layout>.recent-posts .pagination>:not(.space),
    .layout>div:first-child:not(.recent-posts) {
        border-radius: 8px;
        background: var(--background);
        -webkit-box-shadow: var(--card-box-shadow);
        box-shadow: var(--card-box-shadow);
        -webkit-transition: all .3s;
        -moz-transition: all .3s;
        -o-transition: all .3s;
        -ms-transition: all .3s;
        transition: all .3s
    }

    .card-widget:hover,
    #recent-posts>.recent-post-item:hover,
    .cardHover:hover,
    .error404 #error-wrap .error-content:hover,
    .layout>.recent-posts .pagination>:not(.space):hover,
    .layout>div:first-child:not(.recent-posts):hover {
        -webkit-box-shadow: var(--card-hover-box-shadow);
        box-shadow: var(--card-hover-box-shadow)
    }



    .item-headline {
        padding-bottom: 6px;
        font-size: 1.2em
    }

     .item-headline span {
        margin-left: 6px
    }

   
 
     @media screen and (min-width:900px) {
        .sticky_layout {
            position: sticky;
            position: -webkit-sticky;
            top: 60px;
            -webkit-transition: top .3s;
            -moz-transition: top .3s;
            -o-transition: top .3s;
            -ms-transition: top .3s;
            transition: top .3s
        }
    } 

    

 

    



    #card-toc .toc-percentage {
        float: right;
        margin-top: -9px;
        color: #a9a9a9;
        font-style: italic;
        font-size: 140%
    }

    #card-toc .toc-content {
        overflow-y: scroll;
        overflow-y: overlay;
        margin: 0 -24px;
        max-height: calc(100vh - 120px)
    }

    @media screen and (max-width:900px) {
         #card-toc .toc-content {
            max-height: calc(100vh - 140px)
        }
    }

     #card-toc .toc-content>* {
        margin: 0 20px !important
    }



     #card-toc .toc-content>*>.toc-item>.toc-child {
        margin-left: 10px;
        padding-left: 10px;
        border-left: 1px solid var(--dark-grey)
    }

    #card-toc .toc-content:not(.is-expand) .toc-child {
        display: none
    }

    @media screen and (max-width:900px) {
        #card-toc .toc-content:not(.is-expand) .toc-child {
            display: block !important
        }
    }

   #card-toc .toc-content:not(.is-expand) .toc-item.active .toc-child {
        display: block
    }

    #card-toc .toc-content li,
     #card-toc .toc-content ol {
        list-style: none
    }

     #card-toc .toc-content>ol {
        padding: 0 !important
    }

    #card-toc .toc-content ol {
        margin: 0;
        padding-left: 18px
    }

    #card-toc .toc-content .toc-link {
        display: block;
        margin: 4px 0;
        padding: 1px 6px;
        color: var(--toc-link-color);
        -webkit-transition: all .2s ease-in-out;
        -moz-transition: all .2s ease-in-out;
        -o-transition: all .2s ease-in-out;
        -ms-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out
    }

     #card-toc .toc-content .toc-link:hover {
        color: #49b1f5
    }

    #card-toc .toc-content .toc-link.active {
        background: #00c4b6;
        color: #fff
    }

     .sticky_layout:only-child>:first-child {
        margin-top: 20px
    }


</style>
    <div class="card-widget" id="card-toc">
        <div class="item-headline">
            <i class="fa fa-bars"></i>
            <span>目录</span>
            <span class="toc-percentage">0</span>
        </div>
        <div class="toc-content"><ol class="toc">
                        <li class="toc-item toc-level-3">
                            <a class="toc-link" href="#%e9%83%a8%e7%bd%b2%e6%99%ba%e8%83%bd%e5%90%88%e7%ba%a6%e5%88%b0-polygon-%e4%b8%8aweb3%e9%a1%b9%e7%9b%ae%e4%b8%89%e5%ae%9e%e6%88%98%e4%b9%8b%e4%b8%89" aria-label="部署智能合约到 polygon 上（Web3项目三实战之三）" data-pjax-state="anchor">
                                <span class="toc-number"></span> 
                                <span class="toc-text">部署智能合约到 polygon 上（Web3项目三实战之三）</span>
                            </a><ol class="toc-child">

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e9%85%8d%e7%bd%ae%e9%83%a8%e7%bd%b2%e8%84%9a%e6%9c%ac" aria-label="配置部署脚本" data-pjax-state="anchor">
                            <span class="toc-number"></span> 
                            <span class="toc-text">配置部署脚本</span>
                        </a><ol class="toc-child">

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e5%9b%be%e7%89%87" aria-label="图片" data-pjax-state="anchor">
                            <span class="toc-number"></span> 
                            <span class="toc-text">图片</span>
                        </a></li></ol>
                        </li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e7%bc%96%e5%86%99%e4%b8%8e-%e6%99%ba%e8%83%bd%e5%90%88%e7%ba%a6-%e4%ba%a4%e4%ba%92%e7%9a%84javascript" aria-label="编写与 智能合约 交互的javascript" data-pjax-state="anchor">
                            <span class="toc-number"></span> 
                            <span class="toc-text">编写与 智能合约 交互的javascript</span>
                        </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#web3minjs-%e7%ac%ac%e4%b8%89%e6%96%b9%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9%e4%ba%86" aria-label="web3.min.js 第三方文件内容了。" data-pjax-state="anchor">
                            <span class="toc-number"></span> 
                            <span class="toc-text">web3.min.js 第三方文件内容了。</span>
                        </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e9%a1%b5%e9%9d%a2%e9%85%8d%e7%bd%ae%e9%a1%b9" aria-label="页面配置项" data-pjax-state="anchor">
                            <span class="toc-number"></span> 
                            <span class="toc-text">页面配置项</span>
                        </a>
                    </li>
                </ol>
                </li>
            </ol>

        </div>
    </div>






<script>

    const btf = {
    
        scrollToDest: (pos, time = 500) => {
            const currentPos = window.pageYOffset
            if (currentPos > pos) pos = pos - 70
        
            if ('scrollBehavior' in document.documentElement.style) {
                window.scrollTo({
                top: pos,
                behavior: 'smooth'
                })
                return
            }
        
            let start = null
            pos = +pos
            window.requestAnimationFrame(function step (currentTime) {
                start = !start ? currentTime : start
                const progress = currentTime - start
                if (currentPos < pos) {
                window.scrollTo(0, ((pos - currentPos) * progress / time) + currentPos)
                } else {
                window.scrollTo(0, currentPos - ((currentPos - pos) * progress / time))
                }
                if (progress < time) {
                window.requestAnimationFrame(step)
                } else {
                window.scrollTo(0, pos)
                }
            })
        },
    
       
        getEleTop: ele => {
            let actualTop = ele.offsetTop
            let current = ele.offsetParent
        
            while (current !== null) {
                actualTop += current.offsetTop
                current = current.offsetParent
            }
        
            return actualTop
        },

        updateAnchor: (anchor) => {
            if (anchor !== window.location.hash) {
                if (!anchor) anchor = location.pathname
                const title = "秋码记录"
                window.history.replaceState({
                    url: location.href,
                    title
                }, title, anchor)
            }
        },


        throttle: function (func, wait, options) {
            let timeout, context, args
            let previous = 0
            if (!options) options = {}
        
            const later = function () {
                previous = options.leading === false ? 0 : new Date().getTime()
                timeout = null
                func.apply(context, args)
                if (!timeout) context = args = null
            }
        
            const throttled = function () {
                const now = new Date().getTime()
                if (!previous && options.leading === false) previous = now
                
                const remaining = wait - (now - previous)
                context = this
                args = arguments
                if (remaining <= 0 || remaining > wait) {
                    if (timeout) {
                        clearTimeout(timeout)
                        timeout = null
                    }
                    previous = now
                    func.apply(context, args)
                    if (!timeout) context = args = null
                } else if (!timeout && options.trailing !== false) {
                    timeout = setTimeout(later, remaining)
                }
            }
        
            return throttled
        },

        getScrollPercent: (currentTop, ele) => {
            const docHeight = ele.clientHeight
            const winHeight = document.documentElement.clientHeight
            const headerHeight = ele.offsetTop
            const contentMath = (docHeight > winHeight) ? (docHeight - winHeight) : (document.documentElement.scrollHeight - winHeight)
            const scrollPercent = (currentTop - headerHeight) / (contentMath)
            const scrollPercentRounded = Math.round(scrollPercent * 100)
            const percentage = (scrollPercentRounded > 100) ? 100 : (scrollPercentRounded <= 0) ? 0 : scrollPercentRounded
            return percentage
        },




    }  



     

    const scrollFnToDo = function () {
      const isToc = true 
      const isAnchor = true 
      const $article = document.getElementById('article-container')
  
      if (!($article && (isToc || isAnchor))) return
  
      let $tocLink, $cardToc, autoScrollToc, $tocPercentage, isExpand
  
      if (isToc) {
        const $cardTocLayout = document.getElementById('card-toc')
        $cardToc = $cardTocLayout.getElementsByClassName('toc-content')[0]
        $tocLink = $cardToc.querySelectorAll('.toc-link')
        $tocPercentage = $cardTocLayout.querySelector('.toc-percentage')
        isExpand = $cardToc.classList.contains('is-expand')
  
        window.mobileToc = {
          open: () => {
            $cardTocLayout.style.cssText = 'animation: toc-open .3s; opacity: 1; right: 55px'
          },
  
          close: () => {
            $cardTocLayout.style.animation = 'toc-close .2s'
            setTimeout(() => {
              $cardTocLayout.style.cssText = "opacity:''; animation: ''; right: ''"
            }, 100)
          }
        }
  
        
        $cardToc.addEventListener('click', e => {
          e.preventDefault()
          const target = e.target.classList
          if (target.contains('toc-content')) return
          const $target = target.contains('toc-link')
            ? e.target
            : e.target.parentElement
          btf.scrollToDest(btf.getEleTop(document.getElementById(decodeURI($target.getAttribute('href')).replace('#', ''))), 300)
          if (window.innerWidth < 900) {
            window.mobileToc.close()
          }
        })
  
        autoScrollToc = item => {
          const activePosition = item.getBoundingClientRect().top
          const sidebarScrollTop = $cardToc.scrollTop
          if (activePosition > (document.documentElement.clientHeight - 100)) {
            $cardToc.scrollTop = sidebarScrollTop + 150
          }
          if (activePosition < 100) {
            $cardToc.scrollTop = sidebarScrollTop - 150
          }
        }
      }
  
      
      const list = $article.querySelectorAll('h1,h2,h3,h4,h5,h6')
      let detectItem = ''
      const findHeadPosition = function (top) {
        if (top === 0) {
          return false
        }
  
        let currentId = ''
        let currentIndex = ''
  
        list.forEach(function (ele, index) {
          if (top > btf.getEleTop(ele) - 80) {
            const id = ele.id
            currentId = id ? '#' + encodeURI(id) : ''
            currentIndex = index
          }
        })
  
        if (detectItem === currentIndex) return
  
        if (isAnchor) btf.updateAnchor(currentId)
  
        detectItem = currentIndex
  
        if (isToc) {
          $cardToc.querySelectorAll('.active').forEach(i => { i.classList.remove('active') })
  
          if (currentId === '') {
            return
          }
  
          const currentActive = $tocLink[currentIndex]
          currentActive.classList.add('active')
  
          setTimeout(() => {
            autoScrollToc(currentActive)
          }, 0)
  
          if (isExpand) return
          let parent = currentActive.parentNode
  
          for (; !parent.matches('.toc'); parent = parent.parentNode) {
            if (parent.matches('li')) parent.classList.add('active')
          }
        }
      }
  
      
      window.tocScrollFn = btf.throttle(() => {
        const currentTop = window.scrollY || document.documentElement.scrollTop
        
         if(isToc){
          $tocPercentage.textContent = btf.getScrollPercent(currentTop, $article)
        }
        findHeadPosition(currentTop)
      }, 100)
  
      window.addEventListener('scroll', tocScrollFn)
    }
  

    scrollFnToDo()
</script>






    </section>
     


	<section class="Qc_aside_item tags">
        
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-5798408669698308"
             data-ad-slot="3588383880"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </section>

</aside></div>
	<footer class="Qc_footer">
		<div class="Qc_container">
			<div class="item">
				<p>Copyright © 2018 - 2024 by <a href="https://qiucode.cn">秋码记录</a></p>
			</div>
			<div class="item">
				<p>
					<strong>Powered by <span style="color:blue;font:bold;">Hugo</span>&nbsp;&nbsp;|&nbsp;&nbsp;Theme by 
						<a href="https://github.com/zhenqicai/hugo-theme-kiwi" target="_blank" >hugo-theme-kiwi V0.0.4</a></strong>
				</p>
			</div>
		</div>
		</div>
	</footer>

	<style>
		.joe_action {
			position: fixed;
			bottom: 90px;
			right: 30px;
			z-index: 333;
		}


		.joe_action_item.scroll.active {
			visibility: visible;
			-webkit-transform: scale(1);
			transform: scale(1);
		}

		.joe_action_item.scroll {
			visibility: hidden;
			-webkit-transform: scale(0);
			transform: scale(0);
			transition: visibility 0.35s, -webkit-transform 0.35s;
			transition: visibility 0.35s, transform 0.35s;
			transition: visibility 0.35s, transform 0.35s, -webkit-transform 0.35s;
		}

		.joe_action_item {
			box-shadow: rgb(0 0 0 / 10%) 0px 0px 10px, rgb(0 0 0 / 20%) 0px 5px 20px;
			background: var(--darkreader-bg--background);
		}
		.joe_action_item {
			position: relative;
			display: flex;
			align-items: center;
			justify-content: center;
			width: 40px;
			height: 40px;
			background: var(--background);
			border-radius: 50%;
			cursor: pointer;
			margin-top: 15px;
			box-shadow: 0 0 10px rgb(0 0 0 / 10%), 0 5px 20px rgb(0 0 0 / 20%);
		}
		.joe_action_item svg {
			position: absolute;
			width: 25px;
			height: 25px;
			fill: var(--theme);
		}



		.joe_action_item.mode svg{-webkit-transform:scale(0);transform:scale(0);opacity:0}
		.joe_action_item.mode svg.active{-webkit-transform:scale(1);transform:scale(1);opacity:1}
		
	</style>


	<div class="joe_action">
		<div class="joe_action_item scroll ">
			<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25">
				<path d="M725.902 498.916c18.205-251.45-93.298-410.738-205.369-475.592l-6.257-3.982-6.258 3.414c-111.502 64.853-224.711 224.142-204.8 475.59-55.751 53.476-80.214 116.623-80.214 204.8v15.36l179.2-35.27c11.378 40.39 58.596 69.973 113.21 69.973 54.613 0 101.262-29.582 112.64-68.836l180.337 36.41v-15.36c-.569-89.885-25.031-153.6-82.489-206.507zM571.733 392.533c-33.564 31.29-87.04 28.445-118.329-5.12s-28.444-87.04 5.12-117.76c33.565-31.289 87.04-28.444 118.33 5.12s28.444 86.471-5.12 117.76zm-56.32 368.64c-35.84 0-64.284 29.014-64.284 64.285 0 35.84 54.044 182.613 64.284 182.613s64.285-146.773 64.285-182.613c0-35.271-29.014-64.285-64.285-64.285z"></path>
			</svg>
		</div>
		<div class="joe_action_item mode">
			<svg class="icon-1 " viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25">
				<path d="M587.264 104.96c33.28 57.856 52.224 124.928 52.224 196.608 0 218.112-176.128 394.752-393.728 394.752-29.696 0-58.368-3.584-86.528-9.728C223.744 832.512 369.152 934.4 538.624 934.4c229.376 0 414.72-186.368 414.72-416.256 1.024-212.992-159.744-389.12-366.08-413.184z"></path>
				<path d="M340.48 567.808l-23.552-70.144-70.144-23.552 70.144-23.552 23.552-70.144 23.552 70.144 70.144 23.552-70.144 23.552-23.552 70.144zM168.96 361.472l-30.208-91.136-91.648-30.208 91.136-30.208 30.72-91.648 30.208 91.136 91.136 30.208-91.136 30.208-30.208 91.648z"></path>
			</svg>
			<svg class="icon-2 active" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25">
				<path d="M234.24 512a277.76 277.76 0 1 0 555.52 0 277.76 277.76 0 1 0-555.52 0zM512 187.733a42.667 42.667 0 0 1-42.667-42.666v-102.4a42.667 42.667 0 0 1 85.334 0v102.826A42.667 42.667 0 0 1 512 187.733zm-258.987 107.52a42.667 42.667 0 0 1-29.866-12.373l-72.96-73.387a42.667 42.667 0 0 1 59.306-59.306l73.387 72.96a42.667 42.667 0 0 1 0 59.733 42.667 42.667 0 0 1-29.867 12.373zm-107.52 259.414H42.667a42.667 42.667 0 0 1 0-85.334h102.826a42.667 42.667 0 0 1 0 85.334zm34.134 331.946a42.667 42.667 0 0 1-29.44-72.106l72.96-73.387a42.667 42.667 0 0 1 59.733 59.733l-73.387 73.387a42.667 42.667 0 0 1-29.866 12.373zM512 1024a42.667 42.667 0 0 1-42.667-42.667V878.507a42.667 42.667 0 0 1 85.334 0v102.826A42.667 42.667 0 0 1 512 1024zm332.373-137.387a42.667 42.667 0 0 1-29.866-12.373l-73.387-73.387a42.667 42.667 0 0 1 0-59.733 42.667 42.667 0 0 1 59.733 0l72.96 73.387a42.667 42.667 0 0 1-29.44 72.106zm136.96-331.946H878.507a42.667 42.667 0 1 1 0-85.334h102.826a42.667 42.667 0 0 1 0 85.334zM770.987 295.253a42.667 42.667 0 0 1-29.867-12.373 42.667 42.667 0 0 1 0-59.733l73.387-72.96a42.667 42.667 0 1 1 59.306 59.306l-72.96 73.387a42.667 42.667 0 0 1-29.866 12.373z"></path>
			</svg>
		</div>
	</div>

	


	
	

	

	
	
	<script src="/js/highlight.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>

   

   <script>
	 function registerImageLoadEvent() {
		const images = document.querySelectorAll('.sidebar img, .Qc_post img, .vendors-list img');
				
		const callback = (entries) => {
			entries.forEach(item => {
				if (item.intersectionRatio > 0) {
					let ele = item.target;
					let imgSrc = ele.getAttribute('src');
					ele.setAttribute("src","1.png")
					ele.setAttribute("data-lazy-src",imgSrc)
					ele.classList.add("lazyload")
			
				}
			})
		};

		Array.from(images).forEach(img => {
			const bg = '/images/loading.gif' 

			img.setAttribute("data-lazy-src",img.src)
			img.src = bg
			
		})
		
		
		
		
		
		
		
		
		
			

		
		
		
	}

	registerImageLoadEvent()

   </script>




 

 <script src="/js/lazyload.life.min.js"></script>

 <script>
	const lazyloadImg = () => {
      window.lazyLoadInstance = new LazyLoad({
        elements_selector: 'img',
        threshold: 0,
        data_src: 'lazy-src'
      })
    }

	lazyloadImg()
 </script>


	</div>
</body>

<script>

	
	
	
	
	
	
	
	
	


	
	

	
	
				
	

	
	
	
	

	

	

	
	
	
	
	

	
	
		
	
	   </script>

</html>











<script>
	
    
	var mybutton = document.querySelector(".joe_action .joe_action_item.scroll")
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            
            
			mybutton.classList.add("active")
        } else {
            
            
			mybutton.classList.remove("active")
        }
    };

	mybutton.addEventListener("click",() => {
		document.documentElement.scrollTop = document.body.scrollTop = 0;
	})
	


</script>



<script>
	var themeBtn = document.querySelector(".joe_action .joe_action_item.mode")
	let icon_1 = document.querySelector(".joe_action .joe_action_item.mode .icon-1")
	let icon_2 = document.querySelector(".joe_action .joe_action_item.mode .icon-2")
    themeBtn.addEventListener("click", () => {
		
        if (icon_1.classList.contains("active")) {
            icon_1.classList.remove('active');
			icon_2.classList.add('active');
			document.querySelector("html").removeAttribute("data-night")
            localStorage.setItem("pref-theme", 'light');
        } else {
			icon_2.classList.remove('active');
			icon_1.classList.add('active');
			document.querySelector("html").setAttribute("data-night","night")
            localStorage.setItem("pref-theme", 'dark');
        }
    })

	document.addEventListener('DOMContentLoaded', () => {
		if(localStorage.getItem('pref-theme') === 'dark') {
			icon_2.classList.remove('active');
			icon_1.classList.add('active');
			document.querySelector("html").setAttribute("data-night","night")
		} else {
			icon_1.classList.remove('active');
			icon_2.classList.add('active');
			document.querySelector("html").removeAttribute("data-night")
		}
	})

</script>



<script>
    
    

    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
</script>



